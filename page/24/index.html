<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.83.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Chase the Devil</title>
  <meta name="description" content="A personal, independent, technical blog" />

  
  <link type="text/css" rel="stylesheet" href="https://chasethedevil.github.io/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://chasethedevil.github.io/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://chasethedevil.github.io/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://chasethedevil.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">
<link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://chasethedevil.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Chase the Devil" />
  <script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://chasethedevil.github.io/"><h1 style="font-family: 'UnifrakturMaguntia', cursive;font-weight: normal;">Chase the Devil</h1></a>
      <p class="lead">
       A personal, independent, technical blog 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://chasethedevil.github.io/">Blog</a> </li>
        <li><a href="/about/"> About </a></li><li><a href="/post/"> Posts </a></li>
      </ul>

        <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <script type="text/javascript">document.write("<a href=\"mail" + "to:" + new Array("fabien","2ipi.com").join("@") + "?subject=your%20blog\">" + '<i class="fa fa-envelope fa-3x"></i>' + "</" + "a>");</script>
      
      
      
      
      
      
      <a href="https://twitter.com/logos01"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="https://chasethedevil.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>
 </nav>

    <p>&copy; 2021. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="posts">
<article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/running-rings-around-plain-java/">Running rings around plain Java</a>
  </h1>
  <time datetime="2009-01-08T12:26:00Z" class="post-date">Thu, Jan 8, 2009</time>
  <p>Alex Miller has a very <!-- raw HTML omitted -->interesting test of Actors<!-- raw HTML omitted -->. He finds out Scala performance is relatively low compared to Erlang, and Kilim is very near Erlang. But Kilim code is the most difficult to read in the lot.<!-- raw HTML omitted --><!-- raw HTML omitted -->I thought it would be simple to just do the same test in plain Java. I wrote the code for it duplicating the scala logic using Threads instead of Actors.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SimpleRing <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public static <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->main<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->String<!-- raw HTML omitted --><!-- raw HTML omitted -->[] <!-- raw HTML omitted --><!-- raw HTML omitted -->args<!-- raw HTML omitted --><!-- raw HTML omitted -->) <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->throws <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Exception <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->SimpleRing ring = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SimpleRing<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode node = ring.startRing<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->Integer.parseInt<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->args<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->]))<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->node.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StartMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->())<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode startRing<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->n<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->[] <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes = spawnNodes<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->n, startTimer<!-- raw HTML omitted --><!-- raw HTML omitted -->())<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->connectNodes<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->n, nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Timer startTimer<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->Timer timer = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Timer<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Thread<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->timer<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->.start<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->timer;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->[] <!-- raw HTML omitted --><!-- raw HTML omitted -->spawnNodes<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->n, <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->final <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Timer timer<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->System.out.println<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;constructing nodes&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->long <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->start = System.currentTimeMillis<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->[] <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->n+<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->for <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->i = <!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->; i &lt; n ; i++<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->i<!-- raw HTML omitted --><!-- raw HTML omitted -->] <!-- raw HTML omitted --><!-- raw HTML omitted -->= <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->i, timer, <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->null<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Thread<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->i<!-- raw HTML omitted --><!-- raw HTML omitted -->])<!-- raw HTML omitted --><!-- raw HTML omitted -->.start<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->; <!-- raw HTML omitted --><!-- raw HTML omitted -->//later use pool<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->long <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->end = System.currentTimeMillis<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->System.out.println<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Took &quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->end-start<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->+<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;ms to construct &quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+n+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot; nodes&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nodes;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->connectNodes<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->n, RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->[] <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->System.out.println<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;connecting nodes&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->n<!-- raw HTML omitted --><!-- raw HTML omitted -->] <!-- raw HTML omitted --><!-- raw HTML omitted -->= nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->for <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->i=<!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->; i&lt;n; i++<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->i<!-- raw HTML omitted --><!-- raw HTML omitted -->]<!-- raw HTML omitted --><!-- raw HTML omitted -->.connect<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nodes<!-- raw HTML omitted --><!-- raw HTML omitted -->[<!-- raw HTML omitted --><!-- raw HTML omitted -->i+<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->])<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->interface <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Message <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->String getType<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StartMessage <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Message <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->String getType<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;START&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StopMessage <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Message <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->String getType<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;STOP&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->;            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->CancelMessage <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Message <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->String getType<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;CANCEL&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Message <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->value;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId, <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->value<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->.nodeId = nodeId;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->.value = value;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->String getType<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->return <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;TOKEN&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Runnable <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Timer timer;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode nextNode;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BlockingQueue&lt;Message&gt; queue = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->LinkedBlockingQueue&lt;Message&gt;<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->id, Timer timer, RingNode nextNode<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId = id;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->.timer = timer;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->.nextNode = nextNode;                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->connect<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->RingNode node<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode = node;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->Message m<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->queue.add<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->run<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->while <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->true<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->try <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->Message m = queue.take<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StartMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->log<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Starting messages&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->timer.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId, <!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->))<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StopMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->log<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Stopping&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->break<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(((<!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->.nodeId == nodeId<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->int <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->nextValue = <!-- raw HTML omitted --><!-- raw HTML omitted -->((<!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->.value + <!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nextValue % <!-- raw HTML omitted --><!-- raw HTML omitted -->10000 <!-- raw HTML omitted --><!-- raw HTML omitted -->== <!-- raw HTML omitted --><!-- raw HTML omitted -->0<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted -->log<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Around ring &quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+nextValue+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot; times&rdquo;<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nextValue == <!-- raw HTML omitted --><!-- raw HTML omitted -->1000000<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted -->timer.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StopMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->())<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted -->timer.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->CancelMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->())<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StopMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->())<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->break<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                                <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->TokenMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->nodeId, nextValue<!-- raw HTML omitted --><!-- raw HTML omitted -->))<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                            <!-- raw HTML omitted --><!-- raw HTML omitted -->nextNode.sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->catch <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->InterruptedException ie<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->ie.printStackTrace<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->log<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->String s<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->System.out.println<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->System.currentTimeMillis<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot; &quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+nodeId+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot;: &quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+s<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private static class <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Timer <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->implements <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Runnable <!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BlockingQueue&lt;Message&gt; queue = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->LinkedBlockingQueue&lt;Message&gt;<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->boolean <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->timing = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->false<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->private <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->long <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->startTime;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->sendMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->Message m<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->queue.add<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->public <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->void <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->run<!-- raw HTML omitted --><!-- raw HTML omitted -->() {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->while <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->true<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted -->Message m;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->try <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->m = queue.take<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StartMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->startTime = System.currentTimeMillis<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->timing = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->true<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->StopMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->long <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->end = System.currentTimeMillis<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->System.out.println<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Start=&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+startTime+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot; Stop=&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+end+<!-- raw HTML omitted --><!-- raw HTML omitted -->&quot; Elapsed=&quot;<!-- raw HTML omitted --><!-- raw HTML omitted -->+<!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->end-startTime<!-- raw HTML omitted --><!-- raw HTML omitted -->))<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted -->timing = <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->false<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;                                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->else if <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->m <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->instanceof <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->CancelMessage<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                        <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->break<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted -->} <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->catch <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->InterruptedException e<!-- raw HTML omitted --><!-- raw HTML omitted -->) {<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                    <!-- raw HTML omitted --><!-- raw HTML omitted -->e.printStackTrace<!-- raw HTML omitted --><!-- raw HTML omitted -->()<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->                <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->            <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->        <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->    <!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted -->   <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->I was a bit surprised by the result. It was slow and only 1 thread was really active at one time. This is why the test is particularly good. It is not trivial to reproduce the functionality in plain Java in an effective manner. It really shows how the concept of Actors can be useful.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->SimpleRing<!-- raw HTML omitted -->spawn 100: 11ms<!-- raw HTML omitted -->send 100M messages: 493073ms<!-- raw HTML omitted --><!-- raw HTML omitted -->Scala Actors<!-- raw HTML omitted -->spawn 100: 15 ms<!-- raw HTML omitted -->send 100M messages: 270104ms<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->* UPDATE * with <!-- raw HTML omitted -->slight changes<!-- raw HTML omitted --> plain Java rocks!<!-- raw HTML omitted --></p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/more-double-troubles/">More Double Troubles</a>
  </h1>
  <time datetime="2009-01-06T12:12:00Z" class="post-date">Tue, Jan 6, 2009</time>
  <p>We saw in a previous entry how one has to be careful with <!-- raw HTML omitted -->Double.NaN<!-- raw HTML omitted -->. Today we will see how regular double can cause problems. By the way the NaN issue was not Java specific and this issue is also general in different programming languages.<!-- raw HTML omitted --><!-- raw HTML omitted -->A coworker was shocked that in Java (I was a bit surprised he saw that only today, but it is true it can be surprising that such a simple thing does not work as expected):<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->408.16 - 40.82 = <!-- raw HTML omitted -->367.34000000000003<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->In C, this would lead to the same result. This is all due to the <!-- raw HTML omitted -->binary represention of double numbers<!-- raw HTML omitted -->. Using the formula 2^(exponent)*1.mantissa where mantissa is on 52 bits, we have<!-- raw HTML omitted --><!-- raw HTML omitted -->408.16 decomposition:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->exponent = 256. Then 408.16/256 = 1.594375 = 1 + 0x9828F5C28F5C28F5C28F5C&hellip; * 2^-52<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->We round to 52 bits, the mantissa is 0x9828F5C28F5C3 = 2676827028518339.<!-- raw HTML omitted --><!-- raw HTML omitted -->As a decimal, the internal value is (2676827028518339/2^52+1) * 256 = 408.1600000000000250111042987555265426635742<!-- raw HTML omitted --><!-- raw HTML omitted -->40.82 decomposition:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->exponent = 32. Then 40.82/32= 1.275625 = 1 + 0x468F5C28F5C28F5C&hellip;*2^-52<!-- raw HTML omitted --><!-- raw HTML omitted -->Rounded to 52 bits, the mantissa is 0x468F5C28F5C29 = 1241304647293993<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->As a decimal, the internal value is (1241304647293993/2^52 + 1)*32 = 40.8200000000000002842170943040400743484497<!-- raw HTML omitted --><!-- raw HTML omitted -->The difference in decimal becomes 367.34000000000002472&hellip; which becomes <!-- raw HTML omitted -->367.34000000000003<!-- raw HTML omitted --> when represented in binary (to convince yourself you can apply the same technique).<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->The Solution<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->One solution to this problem is to use <!-- raw HTML omitted -->java.math.BigDecimal<!-- raw HTML omitted --> which stores a number as 2 integers, one for the digits, one for the exponent power of 10 (and not 2).<!-- raw HTML omitted -->The correct code would become:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->BigDecimal value = BigDecimal.valueOf(408.16).subtract(BigDecimal.valueOf(40.82));<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->value would then be 367.34.<!-- raw HTML omitted --><!-- raw HTML omitted -->But BigDecimal has also many potential for bugs. For example, you should <!-- raw HTML omitted -->never use the constructor taking a double but always the one taking a String<!-- raw HTML omitted -->.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->new BigDecimal(408.16) = 408.16000000000002501110429875552654266357421875<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->This is because of the binary representation of 408.16 as a double. 408.16 is only an approximation of 408.16!<!-- raw HTML omitted --><!-- raw HTML omitted -->Another trick with BigDecimal is<!-- raw HTML omitted --> not to use equals(Object) but compareTo(Object)<!-- raw HTML omitted --> because 408.160 is not equal to 408.16 using equals.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Why Could not They Make it Work With Double?<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->If you were too lazy to follow the steps of the explanation. There is a simpler explanation. Imagine the representation of a number in base 3 with 2 &ldquo;digits&rdquo;. Let&rsquo;s imagine 1/3 is represented as 0.1 (this is a very simple number representation) 1/3+1/3+1/3 becomes 0.1+0.1+0.1 = 1.0 (in base 3) = 1.0 if we convert to base 10. Now in base 10, 1/3 can only be represented as 0.3, so 1/3+1/3+1/3 = 0.3+0.3+0.3 = 0.9 &lt;&gt; 1.0.<!-- raw HTML omitted -->So BigDecimal is only interesting to handle &hellip; decimals! In the enterprise world, this should be most apps. It is a bit sad it appeared so late in the JDK. It should really be a primitive type.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/java-programmers-are-idiots/">Java Programmers Are Idiots?</a>
  </h1>
  <time datetime="2008-12-17T20:16:00Z" class="post-date">Wed, Dec 17, 2008</time>
  <p>My brother just sent me a funny quote. I don&rsquo;t know if it is true or not:<!-- raw HTML omitted --><!-- raw HTML omitted -->entwickeln Sie lieber überzeugende Lösungen anstatt viele Stunden mit Coding zu verbringen? Ist Ihnen die Produktivität Ihres Teams wichtig?<!-- raw HTML omitted --><!-- raw HTML omitted -->Mark Driver, <em>VP Research von Gartner</em>, kommentierte kürzlich:<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Here’s a simple equation. In terms of mental fortitude&hellip;<em><!-- raw HTML omitted -->1 Smalltalk developer = 2.5 C++ developers<!-- raw HTML omitted -->1 C++ developer = 1.5 Java developers</em>&quot;<!-- raw HTML omitted -->You don&rsquo;t need german to understand. Of course it can not be true. How can anyone measure mental fortitude? And how does it related with productivity is another issue.<!-- raw HTML omitted --><!-- raw HTML omitted -->There is a famous email exchange from <!-- raw HTML omitted -->Linux Torvald claiming the advantages of C versus C++<!-- raw HTML omitted -->, here is a quote:<!-- raw HTML omitted --><!-- raw HTML omitted -->If you want a VCS that is written in C++, go play with Monotone. Really.They use a &ldquo;real database&rdquo;. They use &ldquo;nice object-oriented libraries&rdquo;. They use &ldquo;nice C++ abstractions&rdquo;. And quite frankly, as a result of all these design decisions that sound so appealing to some CS people, the end result is a horrible and unmaintainable mess.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->This however is quite interesting since I am probably not the only one to have seen the disastrous effects of too enthusiastic abstraction professionals in Java. This is why many Java projects are utter crap. But again, not everybody makes this mistake. Some people know how to build good things. As the result of Java being popular, we have many crap programmers with pseudo genius theories you don&rsquo;t find in C or Haskell.<!-- raw HTML omitted --><!-- raw HTML omitted -->On another subject, I seriously wonder why we don&rsquo;t have more distributed compilation in Java as in C/C++. I am tired of seing those core doing nothing while compiling.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/double.nan-is-evil/">Double.NaN Is Evil</a>
  </h1>
  <time datetime="2008-12-09T16:23:00Z" class="post-date">Tue, Dec 9, 2008</time>
  <p>I <!-- raw HTML omitted -->don&rsquo;t<!-- raw HTML omitted --> <!-- raw HTML omitted -->know<!-- raw HTML omitted --> <!-- raw HTML omitted -->what<!-- raw HTML omitted --> Sun <!-- raw HTML omitted -->had<!-- raw HTML omitted --> in <!-- raw HTML omitted -->mind<!-- raw HTML omitted --> <!-- raw HTML omitted -->when<!-- raw HTML omitted --> <!-- raw HTML omitted -->creating<!-- raw HTML omitted --> <!-- raw HTML omitted -->Double.NaN<!-- raw HTML omitted --> <!-- raw HTML omitted -->number<!-- raw HTML omitted -->. <!-- raw HTML omitted -->It<!-- raw HTML omitted --> <!-- raw HTML omitted -->is<!-- raw HTML omitted --> <!-- raw HTML omitted -->very<!-- raw HTML omitted --> <!-- raw HTML omitted -->inintuitive<!-- raw HTML omitted --> <!-- raw HTML omitted -->to<!-- raw HTML omitted --> use. I <!-- raw HTML omitted -->am<!-- raw HTML omitted --> sure <!-- raw HTML omitted -->every<!-- raw HTML omitted --> single <!-- raw HTML omitted -->developer<!-- raw HTML omitted --> out <!-- raw HTML omitted -->there<!-- raw HTML omitted --> <!-- raw HTML omitted -->fell<!-- raw HTML omitted --> in <!-- raw HTML omitted -->the<!-- raw HTML omitted --> <!-- raw HTML omitted -->trap<!-- raw HTML omitted --> <!-- raw HTML omitted -->of<!-- raw HTML omitted --> <!-- raw HTML omitted -->trying<!-- raw HTML omitted --> <!-- raw HTML omitted -->to<!-- raw HTML omitted --> <!-- raw HTML omitted -->find<!-- raw HTML omitted --> out if a double <!-- raw HTML omitted -->was<!-- raw HTML omitted --> <!-- raw HTML omitted -->NaN<!-- raw HTML omitted --> or <!-- raw HTML omitted -->not<!-- raw HTML omitted --> <!-- raw HTML omitted -->using<!-- raw HTML omitted -->:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Double.NaN<!-- raw HTML omitted --> == <!-- raw HTML omitted -->myDouble<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->This<!-- raw HTML omitted --> <!-- raw HTML omitted -->does<!-- raw HTML omitted --> <!-- raw HTML omitted -->not<!-- raw HTML omitted --> <!-- raw HTML omitted -->work<!-- raw HTML omitted --> (I <!-- raw HTML omitted -->don&rsquo;t<!-- raw HTML omitted --> <!-- raw HTML omitted -->know<!-- raw HTML omitted --> <!-- raw HTML omitted -->the<!-- raw HTML omitted --> <!-- raw HTML omitted -->real<!-- raw HTML omitted --> <!-- raw HTML omitted -->reason<!-- raw HTML omitted --> <!-- raw HTML omitted -->why<!-- raw HTML omitted -->), <!-- raw HTML omitted -->one<!-- raw HTML omitted --> <!-- raw HTML omitted -->has<!-- raw HTML omitted --> <!-- raw HTML omitted -->to<!-- raw HTML omitted --> use:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Double.isNaN<!-- raw HTML omitted -->(<!-- raw HTML omitted -->myDouble<!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Not<!-- raw HTML omitted --> intuitive!</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/grails-spring-union-not-surprising/">Grails Spring Union Not Surprising</a>
  </h1>
  <time datetime="2008-11-27T17:18:00Z" class="post-date">Thu, Nov 27, 2008</time>
  <p>Looking out at some<!-- raw HTML omitted --> old post<!-- raw HTML omitted -->. I found out I was not far from the truth in January 2008 when I stated:<!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;In 2008 the Ruby On Rails mentality will continue to prevail. In the Java world, Grails is the most likely to benefit from it. (&hellip;) It could also be something based around Spring as their current MVC solution is not very good and very old fashioned.&quot;<!-- raw HTML omitted -->I don&rsquo;t think I will be right with the provocative <!-- raw HTML omitted -->Java is dead<!-- raw HTML omitted -->. A post recently titled <!-- raw HTML omitted -->No Future In Java<!-- raw HTML omitted --> makes some good points about where the future of Java still is: the web applications. Grails is probably today the best contender in the Java world, far ahead from the others, and it leverages the Java developers. However I am not sure one can say that RIA is a fad, or that RIA will only be done in a super powerful browser in the future. Microsoft might be a game changer here. The real advantages of the browser application so far are: easy deployment (the killer argument IMHO), &ldquo;simple&rdquo; security. I would not be surprised if in the near future, Microsoft advertises a solution for RIA easily deployed, based on standard protocols (HTTP?), a bit like IBM does with <!-- raw HTML omitted -->Eclipse RIA<!-- raw HTML omitted -->, but much more ambitious.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/java-is-dead/">Java Is Dead</a>
  </h1>
  <time datetime="2008-11-21T20:24:00Z" class="post-date">Fri, Nov 21, 2008</time>
  <p>These days, I have the feeling that Java is dead. Even if, or maybe because I have used Java so much in the past 10 years, I have this feeling.<!-- raw HTML omitted --><!-- raw HTML omitted -->In 1998 Java was revolutionary. It was a very simple to learn object oriented language with modern concepts and familiar syntax. Furthermore the standard library had neat features like internet networking and it could be integrated in the browser. All this at a time when the internet just started to be popular.<!-- raw HTML omitted --><!-- raw HTML omitted -->Today we have very few evolutions, a huge library (with lots of useful and useless stuff in). Some good stuff has been added like concurrent utils, but not many things changed overall. Open source languages like Python are much more dynamic in their library maintenance. The language does not seem to provide anything interesting when compared to the alternatives, like .NET or even with the &ldquo;scripting languages&rdquo; like Python. In the browser it has failed where Flash has succeeded.<!-- raw HTML omitted --><!-- raw HTML omitted -->Lots of things are too complicated to build in Java when compared to other languages. I feel Swing, database access (JDBC), JSP could be vastly improved to help developer productivity. Why is ORM less important in the Microsoft world? because the standard database layer of Microsoft is not as crappy as JDBC. Why don&rsquo;t they have tons of web frameworks? because ASP.NET is decent, does more than JSP and does not get too much in your way at the same time. Microsoft finds the right balance between library complexity, power and developer friendlyness.<!-- raw HTML omitted --><!-- raw HTML omitted -->Browser applications are less popular, and desktop apps integrated to a &ldquo;3-tier&rdquo; architecture more popular. Java on the desktop is really weak. Give me <!-- raw HTML omitted -->.NET<!-- raw HTML omitted --> or <!-- raw HTML omitted -->QT<!-- raw HTML omitted --> anytime. There are still no big Java desktop apps on everyday people desktops except Eclipse (IBM has really done an impressive job with it). It is almost 2009 and I still have no Java app except the dev environment for my Java programmer job on my Linux desktop. I know that in my everyday job, I would be more productive with a .NET environment, just because Java sucks so much on the client side. <!-- raw HTML omitted -->Borland Delphi<!-- raw HTML omitted --> was more productive 10 years ago!<!-- raw HTML omitted --><!-- raw HTML omitted -->Java on the Mobile is a failure. Almost nobody uses it and is plagged with compatibility problems. However there is hope here, with Android from Google.<!-- raw HTML omitted --><!-- raw HTML omitted -->The only advantage of Java compared to .NET is that it is free. You have Tomcat, Glassfish for free. You can deploy on Linux. If you are a poor developer that&rsquo;s quite an advantage. But most company pay for Java, they want the &ldquo;security&rdquo; of an IBM and they deploy on Windows machines. It does not make sense, those companies should buy the better Microsoft stack instead of IBM. And I am sure more and more will. Vista might be the big Microsoft failure, I am sure it will be fixed with Windows 7, and Microsoft dev tools are just getting better and better.<!-- raw HTML omitted --><!-- raw HTML omitted -->Scala, Groovy, JRuby don&rsquo;t fix anything, they are just toy programming languages and are based on the JVM, on the Java libraries. In the lot, <!-- raw HTML omitted -->Scala<!-- raw HTML omitted --> does better because it has the concept of library, and they do try to build more interesting libraries than Sun. But it is too complex to be ever popular.<!-- raw HTML omitted --><!-- raw HTML omitted -->All the open source libraries in Java are fine but who needs to choose between 20 web frameworks, 5 loggers, etc.. There are very few really useful ones: hibernate, lucene, jmeter, junit.<!-- raw HTML omitted --><!-- raw HTML omitted -->If Java has no logical place in most companies, if it does not provide anything more than the alternatives, and is very weak on the desktop, what&rsquo;s left to Java? the code base and the developers? That&rsquo;s about it. It sounds a lot like Cobol in the early 90s. Java is dead.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/why-archlinux-is-better-than-ubuntu/">Why ArchLinux Is Better Than Ubuntu</a>
  </h1>
  <time datetime="2008-11-14T10:41:00Z" class="post-date">Fri, Nov 14, 2008</time>
  <p>It has been now a week since I have installed <!-- raw HTML omitted -->ArchLinux<!-- raw HTML omitted --> on my home computer. I daily use Ubuntu 8.10 at work.<!-- raw HTML omitted --><!-- raw HTML omitted -->Since the Ubuntu upgrade from 8.04 to 8.10 I have had problems with my Xorg settings. I just found out the nvidia-settings utility does not manage to save the configuration anymore. So I have to <!-- raw HTML omitted -->lookup on google<!-- raw HTML omitted --> and try to fix it. And that annoys me. That annoys me because the promess of Ubuntu is that everything works out of the box. In reality, you have to mess with the configuration as much as with ArchLinux.<!-- raw HTML omitted --><!-- raw HTML omitted -->There are 2 negative points of ArchLinux when compared to Ubuntu:<!-- raw HTML omitted -->- The install on a new computer takes a lot of time (not the 30min of Ubuntu) to have a decent desktop running. It can only be done by people ready to fiddle with config files0. But it is well documented in the Arch wiki. So ArchLinux is definately not newbie oriented.<!-- raw HTML omitted -->- Some proprietary software might not be installed easily. For a long time Oracle was not trivial to install. Now there is an AUR file for it, so it is quite simple.<!-- raw HTML omitted --><!-- raw HTML omitted -->Now the positive side:<!-- raw HTML omitted -->- good KDE 4.1.3 available<!-- raw HTML omitted -->- more up-to-date packages<!-- raw HTML omitted -->- &ldquo;transparent&rdquo; updates - no big breaking the system at each release.<!-- raw HTML omitted -->- learn to use the useful configuration files. They are not many to use in ArchLinux. One feels much more in control on what&rsquo;s installed and what&rsquo;s happening. They are not many config files to know in the end. Configuration ends up being no more difficult (for someone not addicted to point and click) than in Ubuntu.<!-- raw HTML omitted -->- fast boot<!-- raw HTML omitted -->- no crap forced upon you, for example PulseAudio. I have less problems with pure ALSA.<!-- raw HTML omitted -->- does not disappoint. You know you have to fiddle with the config from the start.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/kde-4.1.3-again-on-archlinux/">KDE 4.1.3 (again) on ArchLinux</a>
  </h1>
  <time datetime="2008-11-08T15:54:00Z" class="post-date">Sat, Nov 8, 2008</time>
  <p>I tried another silly thing with Linux, <!-- raw HTML omitted -->ArchLinux<!-- raw HTML omitted -->. The setup is quite rough as you have to edit many config files manually. But if you know a bit your way around it takes only a few hours to have everything running well. The installation manual on the wiki is detailed enough to correct all eventual mistakes humans do.<!-- raw HTML omitted --><!-- raw HTML omitted -->I decided to try once more KDE 4 on it, as at first it was just a silly experiment: I was really not sure ArchLinux would be workable. In the end I am pleasantly surprised, KDE 4.1.3 is way way better than any other versions of KDE I have tried before. It is stable and quite pretty. It took the team a lot of time to get there but now I think KDE 4 is a very good window manager, pleasant to use.<!-- raw HTML omitted --><!-- raw HTML omitted -->It&rsquo;s a big change from older versions which were too unstable/had too few features to be of any use.<!-- raw HTML omitted --><!-- raw HTML omitted -->I am not convinced with ArchLinux compared to Ubuntu. The setup is much more complex, less packages are available. True you learn a bit more with ArchLinux. We will see if it can keep working well for a few years.</p>

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/stupid-programmer-interviews/">Stupid Programmer Interviews</a>
  </h1>
  <time datetime="2008-09-17T10:56:00Z" class="post-date">Wed, Sep 17, 2008</time>
  <!-- raw HTML omitted -->

  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://chasethedevil.github.io/post/the-art-of-multiprocessor-programming-book-review/">The Art of Multiprocessor Programming Book Review</a>
  </h1>
  <time datetime="2008-09-11T19:32:00Z" class="post-date">Thu, Sep 11, 2008</time>
  <!-- raw HTML omitted -->

  
</article>
</div>
<p style="text-align:left; width:49%; display: inline-block;"><a href="/page/23/">Previous</a></p>
<p style="text-align:right; width:50%;  display: inline-block;"><a href="/page/25/">Next</a></p>
    </main>

    
      
    
  </body>
</html>
