<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.23" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Chase the Devil &middot; </title>

  
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/poole.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/highlight/sunburst.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=UnifrakturMaguntia:400,700">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://chasethedevil.github.io/touch-icon-144-precomposed.png">
  <link href="http://chasethedevil.github.io/favicon.png" rel="icon">

  
  
  
  <link href="http://chasethedevil.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Chase the Devil &middot; " />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-365717-1', 'auto');
    ga('send', 'pageview');
  </script>
  
<script type="text/javascript"
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<link href=' http://fonts.googleapis.com/css?family=UnifrakturMaguntia' rel='stylesheet' type='text/css'>
</head>
<body class="theme-base-00">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Chase the Devil</h1>
      <p class="lead">Technical blog for Fabien.</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/post/">Posts</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <script type="text/javascript">document.write("<a href=\"mail" + "to:" + new Array("fabien","2ipi.com").join("@") + "?subject=your%20blog\">" + '<i class="fa fa-envelope fa-3x"></i>' + "</" + "a>");</script>  
      
      
      
      
      
      
      <a href="https://twitter.com/logos01"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="http://chasethedevil.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

    
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/java-serialization-vs-.net-serialization---java-perverse/">Java Serialization vs .NET Serialization - Java Perverse?</a>
      </h1>
      <span class="post-date">Aug 22, 2006 &middot; 2 minute read &middot; <a href="http://chasethedevil.github.io/post/java-serialization-vs-.net-serialization---java-perverse/#disqus_thread">Comments</a>
      </span>
      
      <p>Did you know what happens in Java when you serialize a subclass of a non serializable class? I was surprised by the answer: it works!<br> <!--+GtkHTML:<DATA class="ClueFlow" key="orig" value="0">--><br> Unfortunately it is not a good thing, because it will serialize fields from your subclass and no fields from the parent class. So you&rsquo;ll end up with a half serialized instance.<br> <br> In .NET, it breaks at runtime, throwing an exception, which is I think, much more logical, because then you don&rsquo;t end up with half data somewhere.<br> <br> <ul>   <li>Java Code:</li> </ul> <div class="java" align="left"> <div class="java" align="left"> <div class="java" align="left"> <table bgcolor="#ffffff" border="0" cellpadding="3" cellspacing="0">   <tbody>     <tr> <!-- start source code --> <td align="left" nowrap="nowrap"  valign="top"> <code><font color="#7f0055"><b>import </b></font><font  color="#000000">java.io.ByteArrayInputStream;</font><br>       <font color="#7f0055"><b>import </b></font><font color="#000000">java.io.ByteArrayOutputStream;</font><br>       <font color="#7f0055"><b>import </b></font><font color="#000000">java.io.ObjectInputStream;</font><br>       <font color="#7f0055"><b>import </b></font><font color="#000000">java.io.ObjectOutputStream;</font><br>       <font color="#7f0055"><b>import </b></font><font color="#000000">java.io.Serializable;</font><br>       <br>       <br>       <br>       <font color="#7f0055"><b>public class </b></font><font  color="#000000">Test</font><br>       <font color="#000000">{</font><br>       <font color="#ffffff">  </font><font color="#7f0055"><b>public static class </b></font><font  color="#000000">Toto </font><br>       <font color="#ffffff">  </font><font color="#000000">{</font><br>       <font color="#ffffff">    </font><font color="#7f0055"><b>public </b></font><font  color="#000000">String me;    </font><br>       <font color="#ffffff">  </font><font color="#000000">}</font><br>       <font color="#ffffff">  </font><br>       <font color="#ffffff">  </font><font color="#7f0055"><b>public static class </b></font><font  color="#000000">Toto2 </font><font color="#7f0055"><b>extends </b></font><font  color="#000000">Toto </font><font color="#7f0055"><b>implements </b></font><font  color="#000000">Serializable</font><br>       <font color="#ffffff">  </font><font color="#000000">{</font><br>       <font color="#ffffff">    </font><font color="#7f0055"><b>public </b></font><font  color="#000000">String you;</font><br>       <font color="#ffffff">    </font><font color="#7f0055"><b>public </b></font><font  color="#000000">String toString</font><font color="#000000">()</font><br>       <font color="#ffffff">    </font><font color="#000000">{</font><br>       <font color="#ffffff">      </font><font color="#7f0055"><b>return </b></font><font  color="#000000">me+</font><font color="#2a00ff">&ldquo; &rdquo;</font><font  color="#000000">+you;</font><br>       <font color="#ffffff">    </font><font color="#000000">}</font><br>       <font color="#ffffff">  </font><font color="#000000">}</font><br>       <font color="#ffffff">  </font><br>       <font color="#ffffff">  </font><font color="#7f0055"><b>public static </b></font><font  color="#7f0055"><b>void </b></font><font color="#000000">main</font><font  color="#000000">(</font><font color="#000000">String</font><font  color="#000000">[] </font><font color="#000000">args</font><font  color="#000000">) </font><font color="#7f0055"><b>throws </b></font><font  color="#000000">Exception</font><br>       <font color="#ffffff">  </font><font color="#000000">{</font><br>       <font color="#ffffff">    </font><font color="#000000">Toto2 t = </font><font  color="#7f0055"><b>new </b></font><font color="#000000">Toto2</font><font  color="#000000">()</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">t.me = </font><font  color="#2a00ff">&ldquo;it&rsquo;s me&rdquo;</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">t.you = </font><font  color="#2a00ff">&ldquo;it&rsquo;s you&rdquo;</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">System.out.println</font><font  color="#000000">(</font><font color="#2a00ff">&ldquo;t=&rdquo;</font><font  color="#000000">+t</font><font color="#000000">)</font><font  color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">ByteArrayOutputStream b = </font><font  color="#7f0055"><b>new </b></font><font color="#000000">ByteArrayOutputStream</font><font  color="#000000">()</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">ObjectOutputStream oos = </font><font  color="#7f0055"><b>new </b></font><font color="#000000">ObjectOutputStream</font><font  color="#000000">(</font><font color="#000000">b</font><font  color="#000000">)</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">oos.writeObject</font><font  color="#000000">(</font><font color="#000000">t</font><font  color="#000000">)</font><font color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">ObjectInputStream ois = </font><font  color="#7f0055"><b>new </b></font><font color="#000000">ObjectInputStream</font><font  color="#000000">(</font><font color="#7f0055"><b>new </b></font><font  color="#000000">ByteArrayInputStream</font><font color="#000000">(</font><font  color="#000000">b.toByteArray</font><font color="#000000">()))</font><font  color="#000000">;</font><br>       <font color="#ffffff">    </font><font color="#000000">System.out.println</font><font  color="#000000">(</font><font color="#2a00ff">&ldquo;u=&rdquo;</font><font  color="#000000">+ois.readObject</font><font color="#000000">())</font><font  color="#000000">;</font><br>       <font color="#ffffff">  </font><font color="#000000">}</font><br>       <font color="#000000">}</font></code> </td> <!-- end source code --> </tr>   </tbody> </table> </div> </div> </div> <br> will output:<br> t=it&rsquo;s me it&rsquo;s you<br> u=null it&rsquo;s you<br> <br> <ul>   <li>.NET Code:</li> </ul> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System;</font><br> <!--+GtkHTML:<DATA class="ClueFlow" clear="orig">--><font size="2"><font  color="#0000ff">using</font></font><font size="2"> System.Collections.Generic;</font><br> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System.Text;</font><br> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System.IO;</font><br> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System.Xml;</font><br> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System.Xml.Serialization;</font><br> <font size="2"><font color="#0000ff">using</font></font><font size="2"> System.Runtime.Serialization.Formatters.Binary;<br> <br> </font><font size="2"><font color="#0000ff">namespace</font></font><font  size="2"> ConsoleApplication</font><br> <font size="2">{</font><br> <font size="2"></font><font size="2">    </font><font size="2"><font  color="#0000ff">public</font></font><font size="2"> </font><font  size="2"><font color="#0000ff">class</font></font><font size="2"> Toto</font><br> <font size="2">    {</font><br> <font size="2">        </font><font size="2"><font color="#0000ff">public</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">string</font></font><font  size="2"> me</font><font size="2">;</font><br> <font size="2">        </font><font size="2"><font color="#0000ff">public</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">override</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">string</font></font><font  size="2"> ToString() <br>        {</font><br> <font size="2">            </font><font size="2"><font color="#0000ff">return</font></font><font  size="2"> me;</font><br> <font size="2">       }</font><br> <font size="2">    }</font><br>   <font size="2"></font> <br> <font size="2">    [Serializable]</font><br> <font size="2">    </font><font size="2"><font color="#0000ff">public</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">class</font></font><font  size="2"> Toto2 : Toto</font><br> <font size="2">    {</font><br> <font size="2">        </font><font size="2"><font color="#0000ff">public</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">string</font></font><font  size="2"> you</font><font size="2">;</font><font size="2"> </font><br> <font size="2">        </font><font size="2"><font color="#0000ff">public override</font></font><font size="2"> </font><font size="2"><font  color="#0000ff">string</font></font><font size="2"> ToString() <br>        {</font><br> <font size="2">            </font><font size="2"><font color="#0000ff">return</font></font><font  size="2"> you + </font><font size="2"><font color="#b03060">&rdquo; &ldquo;</font></font><font  size="2"> + me;</font><br> <font size="2">        }</font><br> <font size="2">    }</font><font size="2"> </font><br> <br> <font size="2">    </font><font size="2"><font color="#0000ff">class</font></font><font  size="2"> Program</font><br> <font size="2">    {</font><br> <font size="2">        </font><font size="2"><font color="#0000ff">static</font></font><font  size="2"> </font><font size="2"><font color="#0000ff">void</font></font><font  size="2"> Main(</font><font size="2"><font color="#0000ff">string</font></font><font  size="2">[] args) <br>         {</font><br> <font size="2">            Toto2 t = </font><font size="2"><font  color="#0000ff">new</font></font><font size="2"> Toto2();<br>             t.me = </font><font size="2"><font color="#b03060">&ldquo;it&rsquo;s me&rdquo;</font></font><font size="2">;<br>             t.you = </font><font size="2"><font color="#b03060">&ldquo;it&rsquo;s you&rdquo;</font></font><font size="2">;<br> </font><font size="2">            </font><font size="2"><font  color="#0000ff">using</font></font><font size="2"> (FileStream fs = File.Create(</font><font size="2"><font color="#b03060">@&ldquo;c:\test.bin&rdquo;</font></font><font  size="2">)) <br>            {</font><br> <font size="2">                BinaryFormatter bFormatter = </font><font  size="2"><font color="#0000ff">new</font></font><font size="2"> BinaryFormatter();</font><br> <font size="2">                bFormatter.Serialize(fs, t);</font><br> <font size="2">            }</font><br> <font size="2">            Console.WriteLine(</font><font size="2"><font  color="#b03060">&ldquo;t=&rdquo;</font></font><font size="2"> + t.ToString());</font><font  size="2"> </font><br> <font size="2">            Toto2u = </font><font size="2"><font  color="#0000ff">null</font></font><font size="2">;</font><br> <font size="2">            </font><font size="2"><font color="#0000ff">using</font></font><font  size="2"> (FileStream fs = File.Open(</font><font size="2"><font  color="#b03060">@&ldquo;c:\test.bin&rdquo;</font></font><font size="2">, FileMode.Open)) <br>             {</font><br> <font size="2">                BinaryFormatter bFormatter = </font><font  size="2"><font color="#0000ff">new</font></font><font size="2"> BinaryFormatter();</font><br> <font size="2">                u = (Toto2)bFormatter.Deserialize(fs);</font><br> <font size="2">            }</font><br> <font size="2">            Console.WriteLine(</font><font size="2"><font  color="#b03060">&ldquo;u=&rdquo;</font></font><font size="2">+u.ToString());</font><font  size="2"> </font><br> <font size="2">            Console.ReadKey();</font><br> <font size="2">        }</font><br> <font size="2">    }</font><br> <font size="2">}</font><br> <!--+GtkHTML:<DATA class="ClueFlow" key="orig" value="0">--><br> will throw an exception.<br> <br></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/5-minutes-of-google-spreadsheets/">5 Minutes of Google Spreadsheets</a>
      </h1>
      <span class="post-date">Aug 17, 2006 &middot; 1 minute read &middot; <a href="http://chasethedevil.github.io/post/5-minutes-of-google-spreadsheets/#disqus_thread">Comments</a>
      </span>
      
      <p class="mobile-post">Today I noticed a Google Spreadsheets link in my gmail screen. I had read about it but never bothered to try before. In the finance industry, a lot of traders use excel, so I was wondering if Google spreadsheets could be another fit. </p><p class="mobile-post">Unfortunately for Google, under Linux at least, I don't find Google Spreadsheets usable for anything else than storing and sharing some information, not often updated. Although I admire the engineers that managed to write the Javascript behind Google Spreasheet, it is way too slow for using it in interesting ways. Editing is slow, copy/paste is slow, sorting is slow. </p><p class="mobile-post">I then wondered if it could read my contacts CSV from GMail (you can export contacts to a CSV file in Gmail). It could be a better interface to edit contacts. But strangely, importing Gmail CSV in Google Spreadsheets does not work.</p><p class="mobile-post">I don't think I'll use it another 5 more minutes.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/procedural-programming-in-an-oo-language/">Procedural Programming in an OO language</a>
      </h1>
      <span class="post-date">Aug 8, 2006 &middot; 1 minute read &middot; <a href="http://chasethedevil.github.io/post/procedural-programming-in-an-oo-language/#disqus_thread">Comments</a>
      </span>
      
      <p class="mobile-post">OO is an old buzzword, that is not required anymore to get an employment. Recruiter seems to prefer SOA, Web Services, and in France, "mutualisation" and "urbanisation". Sometimes I really wonder if OO made it. </p><p class="mobile-post">I am sure many of you are confronted with programmers that love procedural programming in many of your projects. They might use an OO language but in the end will organize everything by "type", split invariably state and logic. Everything will be so much better stateless. And we will create lookup maps to glue everything back together. In a way I feel they remove the OO of the language.</p><p class="mobile-post">It's not necessarily bad programming. Sometimes it is encouraged by standards, after all, that's the way most Javabeans are used. It can be preferable in some places, for example you don't want to mix your XML creating code in the object that has to be transformed to XML, this way of transforming objects to XML has been gone a long time ago in Java.</p><p class="mobile-post">But the excess of it can be quite frustrating.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/back-to-real-java-bye-bye-j2ee/">Back To Real Java, Bye Bye J2EE</a>
      </h1>
      <span class="post-date">Jul 26, 2006 &middot; 1 minute read &middot; <a href="http://chasethedevil.github.io/post/back-to-real-java-bye-bye-j2ee/#disqus_thread">Comments</a>
      </span>
      
      <p>I changed job recently. In this new job, it is refreshing to see Java used like in the old days, without the J2EE layers, and without the extra IBM layers of my previous job. Granted, the fresh Java approach does not apply to many projects, because a lot of apps are just about interfacing a database with a web interface. But Spring success showed that even for many of those projects, fresh Java approach with a small framework is enough.<br> <br> This makes me think about people (on the net) complaining that in some job interviews, candidates were not able to tell how to get a EJB instance, etc.. Those kind of question are really stupid, as what matters much much more are EJBs concepts and concerns, i.e. what it tries to solve and how it tried to solve it, and for example, what is good/bad about it.<br> <br> Java is much nicer to use in the old way. Everything seems fast to do. I am surprised it is more pleasant to work with Java in this kind of environment than in a web/J2EE environment.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/moving-weekly-javablog-stats-to-a-new-blog/">Moving weekly Javablog stats to a new blog</a>
      </h1>
      <span class="post-date">Jun 26, 2006 &middot; 1 minute read &middot; <a href="http://chasethedevil.github.io/post/moving-weekly-javablog-stats-to-a-new-blog/#disqus_thread">Comments</a>
      </span>
      
      <p>Javablogs.com top 10 weekly/monthly/yearly entries were starting to pollute my blog too much for my taste. It is more appropriate to dedicate a blog to them. That is what I should have done in the first place as it is very easy to have many blogs with blogger.com.<br /><br />So you&rsquo;ll find at <a href="http://javabuzz.blogspot.com">javabuzz.blogspot.com</a> the weekly top 10 most read entries on Javablogs, and sometimes more.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/jsf-was-too-hard-for-experienced-developers/">JSF Was Too Hard for Experienced Developers</a>
      </h1>
      <span class="post-date">Jun 23, 2006 &middot; 2 minute read &middot; <a href="http://chasethedevil.github.io/post/jsf-was-too-hard-for-experienced-developers/#disqus_thread">Comments</a>
      </span>
      
      <p>While starting to look into <a  href="http://www.jboss.com/products/seam">Seam</a>, I noticed that all examples use JSF for the view, and there is no alternative to it. If someone like Gavin (from Hibernate fame) thinks JSF is usable, then I probably overlooked something when I looked into it a few years ago, when JSF was the craze of the moment.<br> <br> At the beginning, JSF looks very similar to ASP.NET. But I have a small experience with ASP.NET, and ASP.NET is quite simple to understand and use. You can throw up inexperienced developers at it, they will manage to create something that works quite quickly. ASP.NET feels quite natural once you understand the postback thingy. JSF is another beast. Maybe part of it is due to the fact that the Java world has no excellent tools integration like Microsoft has (IBM RAD, one of the most advanced concerning integration, is quite far off). But there are also many technological reasons; when I read <a  href="http://www.onjava.com/pub/a/onjava/2004/06/09/jsf.html">that article about JSF shortcomings with JSP</a>, I was shocked that even to do very simple things, you would screw up, because simple things can be very complicated in JSF.<br> <br> What seems to make JSF much nicer is Facelets, as it solves all problems related to JSP and JSF. This might make my JSF experience a good one, after all. I am curious to see if it makes JSF programming really nicer, and if Seam makes the overall very quick to build and understand.<br></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/top-10-most-read-last-week-on-javablogs.com-week-24/">Top 10 Most Read Last Week On Javablogs.com, Week 24</a>
      </h1>
      <span class="post-date">Jun 19, 2006 &middot; 3 minute read &middot; <a href="http://chasethedevil.github.io/post/top-10-most-read-last-week-on-javablogs.com-week-24/#disqus_thread">Comments</a>
      </span>
      
      <div xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><br /><span style="font-weight: bold;">Most read last week</span><br /><ol><br /><li> <a href="http://javablogs.com/Jump.action?id=274667" title="Read full entry on author's blog">Sexiest photo ever</a>  (235): Heading off to Nerja (on the advice of Joe who will pay dearly if the ratio of fish 'n chip shops to tapas bars isn't on the right side of 95:05) for 2 weeks with 3 lovely girls and a... [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274667" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273954" title="Read full entry on author's blog">You are not a ‘real’ Java developer until…</a>  (217): You had to use JDK 1.3 on a real project. In 2006. You had to use JDK 1.3 on a real project because you had to use some ancient version of WebSphere. In 2006. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273954" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274210" title="Read full entry on author's blog">Beautiful JavaScript Windows and Dialogs for your Application</a>  (200): French expert user-interface programmer Sebastien Gruhier releases latest version of his beautiful Prototype Windows code, based on Prototype and compatible with Scriptaculous effects. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274210" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274110" title="Read full entry on author's blog">Spring 2.0 Docs Rocks!</a>  (185): Just perusing the Spring 2.0 docs after seeing some negative blog posts on it (Spring in general). Its been taking a beating on being too complex/heavy but hey it does the job. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274110" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273894" title="Read full entry on author's blog">Software Team Turnover: Why Developers Leave</a>  (184): Found this very interesting <a class="inentry" href="http://www.developerdotstar.com/printable/mag/articles/software_team_turnover.html">article</a> about ways on how to learn more about your software development team and thing a company should know on how to retain them. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273894" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273991" title="Read full entry on author's blog">This is Just Depressing</a>  (175): This evening I was browsing some of the recent posts on the amsuing thedailywtf. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273991" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274747" title="Read full entry on author's blog">Does Spring encourage bad coding?</a>  (161): Let's expand on Martin Fowler's naive example of the movie lister and movie finder. Without Spring this is how the code would look like // in MovieListerString genre = input.getGenre(); // action, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274747" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274286" title="Read full entry on author's blog">Doing away with getters and setters</a>  (161): How many times have you written boiler plate get and set methods? Here is an interesting system that might do away with them altogether. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274286" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274848" title="Read full entry on author's blog">How to be a Junior Developer Forever : part 1</a>  (157): You know it's hard out here for a lead developer. It's about being half manager (babysitter) and half developer. It's not easy but it pays the bills. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274848" title="Read the post without leaving Javablogs">read</a>] </li><br /></ol><br /><span style="font-weight: bold;">Most read last week-end</span><br /><ol><br /><li> <a href="http://javablogs.com/Jump.action?id=274747" title="Read full entry on author's blog">Does Spring encourage bad coding?</a>  (161): Let's expand on Martin Fowler's naive example of the movie lister and movie finder. Without Spring this is how the code would look like // in MovieListerString genre = input.getGenre(); // action, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274747" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274848" title="Read full entry on author's blog">How to be a Junior Developer Forever : part 1</a>  (157): You know it's hard out here for a lead developer. It's about being half manager (babysitter) and half developer. It's not easy but it pays the bills. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274848" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274775" title="Read full entry on author's blog">Spring IoC: The Java Enterprise drug</a>  (153): By now I have used Spring in a significant number of projects, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274775" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274792" title="Read full entry on author's blog">Our Grass is Greenest: OGNL and LINQ</a>  (138): Microsoft's New LINQ feature looks a lot like Java's OGNL. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274792" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274805" title="Read full entry on author's blog">CSS Navigation showcase ... *Impressive* !</a>  (122): You'll find it <a class="inentry" href="http://www.centralscrutinizer.it/en/design/js-php/tiny-scrolling/#works">here</a> That's pretty amazing ! [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274805" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274793" title="Read full entry on author's blog">Comparing Google's Picasa Web to Flickr</a>  (115): I find the Picasa photo organizer to be almost perfect, except for not having a Mac version. I set up a <a class="inentry" href="http://picasaweb.google.com/mark.watson">gallery of my travel pictures on Picasa Web</a> a few days ago. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274793" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274845" title="Read full entry on author's blog">Spring IoC: The Java Enterprise drug</a>  (111): Potential dangers of Spring IoC (Inversion of Control) [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274845" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274820" title="Read full entry on author's blog">激情女球迷带起我要去看世界杯的欲望！</a>  (107): 世界杯彩绘流行 哥斯达黎加美女分外妖娆 我爱世界杯！  [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274820" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=274789" title="Read full entry on author's blog">Introduction to Neural Networks in Java</a>  (102): Ever want to write a program smarter than you are? Have a go at this book (yes book) on how to get started with neural networks and just where you might want to use them. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=274789" title="Read the post without leaving Javablogs">read</a>] </li><br /></ol><br /></div>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/on-ejb-restrictions---can-you-open-a-socket/">On EJB Restrictions - Can You Open a Socket?</a>
      </h1>
      <span class="post-date">Jun 19, 2006 &middot; 3 minute read &middot; <a href="http://chasethedevil.github.io/post/on-ejb-restrictions---can-you-open-a-socket/#disqus_thread">Comments</a>
      </span>
      
      <p>During job interviews, one of the frequent questions is &ldquo;What restrictions are imposed on EJBs?&rdquo;. I had a chat recently with someone about it, and we still don&rsquo;t agree on the answer.<br> <br> He believes we can&rsquo;t open sockets, while I believe it is perfectly allowed, if you don&rsquo;t retain the socket connection between method calls.<br> <br> His arguments are based on an analogy with files. After all in Linux, files are sockets. Here are his interpretations on <a  href="http://java.sun.com/blueprints/qanda/ejb_tier/restrictions.html">a document about EJB restrictions on java.sun.com</a>:<br> <ol>   <li><i><span>Passivation affects server sockets. Why client sockets are not affected by passivation is not mentioned. I suspect that given that the socket mechanism is the same in both cases (IP packets), there should be no difference.</span></i></li>   <li><i><span>EJBs are not allowed to access files because files are not transactional. Well, it is my understanding that sockets are neither.</span></i></li>   <li><i><span>Deployability. The file open in one JVM will not necessarily be open in another JVM. It is my understanding that the same will happen on sockets.</span></i></li> </ol> <span>Now here is my reply:<br> </span><i><span><br> The reference I mentioned says you can not open server sockets, because to use them, you would have to let them open between methods calls, otherwise you can&rsquo;t do anything with your server socket.<br> </span></i> <ol>   <li><i><span>Passivation will only happen after or before a method call, not in the middle.</span></i></li>   <li><i><span>Good point, rollback seems hard with sockets.</span></i></li>   <li><i><span>The real problem with files and deployability is about clustering. I quote the same source: </span>&ldquo;if an enterprise bean running in a JVM on a particular machine is using or holding an open file descriptor to a file in the filesystem, that enterprise bean cannot easily be moved from one JVM or machine to another, without losing its reference to the file.&rdquo; Basically it says what&rsquo;s bad with files is if you use them to store some kind of state, because then this state will be different on different servers. This issue does not exist with sockets. What you mention is simply a configuration issue. Your datasources will vary as well from one JVM to another (on different servers).</i><br>   </li> </ol> <i><span></span></i>I have the advantage that my interpretation is more <a  href="http://www.javaworld.com/javaworld/jw-08-2000/jw-0825-ejbrestrict.html">common</a>. But his arguments are still clever and EJBs specs could have been a bit more explicit about the use of java.io.Socket. Here is the line about it in the specs:<br> <blockquote><i>&ldquo;The EJB architecture allows an enterprise bean instance to be a network socket client, but it does not allow it to be a network server. Allowing the instance to become a network server would conflict with the basic function of the enterprise bean&ndash; to serve the EJB clients&rdquo;</i><br> </blockquote> <br> Our disagreement shows how such a simple subject, what you can and can&rsquo;t do in EJBs, is most of the time badly understood.<br> <br> <br></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/top-10-most-read-last-week-on-javablogs.com-week-23/">Top 10 Most Read Last Week On Javablogs.com, Week 23</a>
      </h1>
      <span class="post-date">Jun 12, 2006 &middot; 4 minute read &middot; <a href="http://chasethedevil.github.io/post/top-10-most-read-last-week-on-javablogs.com-week-23/#disqus_thread">Comments</a>
      </span>
      
      <div xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><br /><span style="font-weight: bold;">Most read last week</span><br /><ol><br /><li> <a href="http://javablogs.com/Jump.action?id=273202" title="Read full entry on author's blog">The Top 10 Java Killer Apps</a>  (357): Some VERY cool apps that have created, or are creating, quite a buzz not only in the Java world but in the larger populace. I’ve used most of the apps below, although I have yet to try a few. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273202" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273112" title="Read full entry on author's blog">Google hits a home run with Google Spreadsheet</a>  (290): I just got my invite to play with the latest offering from Google, the Google Spreadsheets and my initial reaction after playing with it for the past hour is incredibly positive. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273112" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273315" title="Read full entry on author's blog">Agile people still don't get it</a>  (279): I just attended a presentation by Jeff Langr about Test-Driven Development which represents everything that is wrong about the way Agile advocates are trying to evangelize their practices. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273315" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=272960" title="Read full entry on author's blog">Whoa ... Spring doesn't lazily instantiate beans?</a>  (207): Just stumbled across a blog about <a class="inentry" href="http://www.memestorm.com/blog/lazy-bean-instantiation-in-spring-20/">Lazy Bean instantiation in Spring 2.0</a>. This is kind of funny to me ... lazy instantiation is so important, so part of the base line of IoC container functionality, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=272960" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273326" title="Read full entry on author's blog">6 Common Errors in Setting Java Heap Size</a>  (198): Two JVM options are often used to tune JVM heap size: -Xmx for maximum heap size, and -Xms for initial heap size. Here are some common mistakes I have seen when using them: Missing m, M, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273326" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273338" title="Read full entry on author's blog">Google it? Not anymore...</a>  (198): I‘m disappointed in Google, to be honest. While I‘m not one of those Google-loving fly boys out there who think they can do no wrong, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273338" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273172" title="Read full entry on author's blog">Would someone please explain Spring to me?</a>  (195): I'm dense. It's true. I'm not particularly quick to pick up on new concepts. I suppose if I encountered new concepts more often, I'd get better at assimilating. Instead, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273172" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273509" title="Read full entry on author's blog">Take that .NET!</a>  (191): As an outspoken advocate of Java distributed computing, I was recently confronted by a group of .NET enthusiasts. They felt compelled go on about how much more "advanced" . [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273509" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273822" title="Read full entry on author's blog">Spring, what a crappy framework</a>  (184): I have this crappy theme going. In all seriousness, the Spring framework isn't crappy. As I've mentioned before, I like its promotion of interfaces - code to interfaces, not implementation, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273822" title="Read the post without leaving Javablogs">read</a>] </li><br /></ol><br /><span style="font-weight: bold;">Most read last week-end</span><br /><ol><br /><li> <a href="http://javablogs.com/Jump.action?id=273822" title="Read full entry on author's blog">Spring, what a crappy framework</a>  (184): I have this crappy theme going. In all seriousness, the Spring framework isn't crappy. As I've mentioned before, I like its promotion of interfaces - code to interfaces, not implementation, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273822" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273722" title="Read full entry on author's blog">Eclipse3.2 Splash Screen Final Release</a>  (157): As you know I have been creating splash screens for Eclipse Releases. This the final splash screen for the Eclipse Callisto 3. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273722" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273764" title="Read full entry on author's blog">Spring MVC or Webwork ?</a>  (124): Disclaimer::To start with, I'm new to both of these frameworks and am looking at both of them with a fresh pair of eyes. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273764" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273743" title="Read full entry on author's blog">World's funniest joke</a>  (116): A couple of New Jersey hunters are out in the woods when one of them falls to the ground. He doesn't seem to be breathing, his eyes are rolled back in his head. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273743" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273798" title="Read full entry on author's blog">Agile Developers don't do Design</a>  (93): James Carr is back blogging after a year's absence and writes that we don't use UML in XP. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273798" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273733" title="Read full entry on author's blog">Google And The Puzzle of Dropping Eggs</a>  (87): Google is also known for its interesting interview questions. Enjoy this one and my solution. Suppose you have two eggs. [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273733" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273708" title="Read full entry on author's blog">FireFox, the Next another Platform</a>  (86): We see the Web 2.0 is come to reality, and the apps move to web, google as the platform for provider, and firefox as the apps to access the platform, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273708" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273778" title="Read full entry on author's blog">Why Java code is bad for rules and a declarative alternative</a>  (78): One of the selling features of Drools, and one of the reasons we are often chosen over competitors, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273778" title="Read the post without leaving Javablogs">read</a>] </li><br /><li> <a href="http://javablogs.com/Jump.action?id=273748" title="Read full entry on author's blog">86 rules while you are at a bar</a>  (78): It happens that I live just across a dive bar... Also, I have really started appreciating Scotch recently Anyway, [<a class="smallgrey" href="http://javablogs.com/ViewEntry.action?id=273748" title="Read the post without leaving Javablogs">read</a>] </li><br /></ol><br /></div>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/non-blocking-with-traditional-java-io---on-the-use-of-inputstream.available-and-thread.sleep/">Non Blocking with Traditional Java IO - On the Use of InputStream.available() and Thread.sleep()</a>
      </h1>
      <span class="post-date">Jun 8, 2006 &middot; 2 minute read &middot; <a href="http://chasethedevil.github.io/post/non-blocking-with-traditional-java-io---on-the-use-of-inputstream.available-and-thread.sleep/#disqus_thread">Comments</a>
      </span>
      
      <p>Some time ago I did quite a lot of IO in Java and I yet did not see this way of reading a InputStream from a Socket:<br /><table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff"><tr><!-- start source code -->   <td nowrap="nowrap" valign="top" align="left">    <code><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">InputStream&nbsp;in=channel.getInputStream</font><font color="#000000">()</font><font color="#000000">;</font><br /><font color="#ffffff"></font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">channel.connect</font><font color="#000000">()</font><font color="#000000">;</font><br /><font color="#ffffff"></font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>byte</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">tmp=</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#7f0055"><b>byte</b></font><font color="#000000">[</font><font color="#990000">1024</font><font color="#000000">]</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>while</b></font><font color="#000000">(</font><font color="#7f0055"><b>true</b></font><font color="#000000">){</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>while</b></font><font color="#000000">(</font><font color="#000000">in.available</font><font color="#000000">()</font><font color="#000000">&gt;</font><font color="#990000">0</font><font color="#000000">){</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">i=in.read</font><font color="#000000">(</font><font color="#000000">tmp,&nbsp;</font><font color="#990000">0</font><font color="#000000">,&nbsp;</font><font color="#990000">1024</font><font color="#000000">)</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if</b></font><font color="#000000">(</font><font color="#000000">i&lt;</font><font color="#990000">0</font><font color="#000000">)</font><font color="#7f0055"><b>break</b></font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.print</font><font color="#000000">(</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">String</font><font color="#000000">(</font><font color="#000000">tmp,&nbsp;</font><font color="#990000">0</font><font color="#000000">,&nbsp;i</font><font color="#000000">))</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if</b></font><font color="#000000">(</font><font color="#000000">channel.isClosed</font><font color="#000000">()){</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.println</font><font color="#000000">(</font><font color="#2a00ff">&#34;exit-status:&nbsp;&#34;</font><font color="#000000">+channel.getExitStatus</font><font color="#000000">())</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>break</b></font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>try</b></font><font color="#000000">{</font><font color="#000000">Thread.sleep</font><font color="#000000">(</font><font color="#990000">1000</font><font color="#000000">)</font><font color="#000000">;</font><font color="#000000">}</font><font color="#7f0055"><b>catch</b></font><font color="#000000">(</font><font color="#000000">Exception&nbsp;ee</font><font color="#000000">){}</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">channel.disconnect</font><font color="#000000">()</font><font color="#000000">;</font></code>       </td>  <!-- end source code -->   </tr></table><br /><br />This comes from a piece of code <a href="http://www.jcraft.com/jsch/examples/Exec.java">from an example of JSch </a>, a good ssh client in java. A work collegue had the bad idea to remove the Thread.sleep call and was struggling with why it would randomly work.The way I would have done it is the following:<br /><table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">   <tr>  <!-- start source code -->   <td nowrap="nowrap" valign="top" align="left">    <code><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">InputStream&nbsp;in=channel.getInputStream</font><font color="#000000">()</font><font color="#000000">;</font><br /><font color="#ffffff"></font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">channel.connect</font><font color="#000000">()</font><font color="#000000">;</font><br /><font color="#ffffff"></font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>byte</b></font><font color="#000000">[]&nbsp;</font><font color="#000000">tmp=</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#7f0055"><b>byte</b></font><font color="#000000">[</font><font color="#990000">1024</font><font color="#000000">]</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>int&nbsp;</b></font><font color="#000000">bytesRead&nbsp;=&nbsp;</font><font color="#990000">0</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>while</b></font><font color="#000000">((</font><font color="#000000">bytesRead&nbsp;=&nbsp;in.read</font><font color="#000000">(</font><font color="#000000">tmp,</font><font color="#990000">0</font><font color="#000000">,</font><font color="#990000">1024</font><font color="#000000">)&nbsp;</font><font color="#000000">&gt;=&nbsp;</font><font color="#990000">0</font><font color="#000000">){</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.print</font><font color="#000000">(</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">String</font><font color="#000000">(</font><font color="#000000">tmp,&nbsp;</font><font color="#990000">0</font><font color="#000000">,&nbsp;bytesRead</font><font color="#000000">))</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br /><font color="#ffffff"></font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>if</b></font><font color="#000000">(</font><font color="#000000">channel.isClosed</font><font color="#000000">()){</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">System.out.println</font><font color="#000000">(</font><font color="#2a00ff">&#34;exit-status:&nbsp;&#34;</font><font color="#000000">+channel.getExitStatus</font><font color="#000000">())</font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>break</b></font><font color="#000000">;</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br /><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">channel.disconnect</font><font color="#000000">()</font><font color="#000000">;</font></code>       </td>  <!-- end source code -->   </tr></table><br /><br />This has the advantage of being more readable and having less secret spices in it. In the first code, the call to available() is non blocking, meaning that without the  Thread.sleep(), there will never be the time for the socket buffer to fill up. But is the first code more efficient or the second code?<br /><br />I did a search on google to understand the interest of the first code. The only advantages I found in the first code are the possibility to interrupt the thread running the code and a finer grained control on timeouts. <br /><br />There is a <a href="http://g.oswego.edu/dl/cpj/cancel.html">lengthy explanation</a> by Doug Lea in his book &ldquo;Concurrent Programming in Java&rdquo;. This book usually provides excellent explanations, and is a must read for anybody doing concurrent programming. But this time, about this subject, I did not find him that clear.<br /><br />There is a more <a href="http://www.eli.sdsu.edu/courses/fall98/cs596/notes/thread2/thread2.html">simple explanation</a> in a course from San Diego State University (see last example)<br /><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote">  A read() on an inputstream or reader blocks. Once a thread calls read() it will not respond to interrupt() (or much else) until the read is completed. This is a problem when a read could take a long time: reading from a socket or the keyboard. If the input is not forth coming, the read() could block forever. </blockquote><div><br /></div>As usual, you should not rely on all what you read on the web, as <a href="http://http://bobcat.webappcabaret.net/javachina/faq/05.htm">this page (SCJP Questions &amp; Answers)</a> testifies:<br /><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><div class="qabold"><a name="thr_m12" id="thr_m12" shape="rect"> Q</a>. When will a Thread I/O blocked?</div> <div class="qabold">A:</div> <div class="answer">When a thread executes a read() call on an InputStream, if no byte is available. The calling Thread blocks, in other words, stops executing until a byte is available or the Thread is interrupted.</div></blockquote><div><br />Still I am wondering if the second code would not just go into IOException (socket timeout), on timeout (adjustable with Socket.setTimeout ) and release the Thread then. Do you have an idea when the first code could be better?<br /></div></p>

      
    </div>
    
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/28/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/28/">28</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/page/29/">29</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/30/">30</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/page/37/">37</a></li>
    
    
    <li
    >
    <a href="/page/30/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/37/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "chasethedevil";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<div class="content container" style="padding-top: 0rem;"-->
 <a href="https://twitter.com/share" class="twitter-share-button"{count} data-hashtags="chasethedevil" data-size="large">Tweet</a>
 <a style="font-size:75%;" href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false"><i class="fa fa-reddit fa-2x" aria-hidden="true"></i>Submit to reddit</a> 
<table style="border-collapse: collapse;">
     <tr style="padding: 0px; margin: 0px; border: none;">
     <td style="vertical-align: middle;padding: 0px; margin: 0px; border: none;font-size: 60%;">&copy; 2006-16 <a href="http://chasethedevil.github.io/about/">Fabien</a></td>
     <td style="vertical-align: middle;padding: 0px; margin: 0px; border: none;font-size: 0px;"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding: 0px; margin: 0px; border: none;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a></td>
     <td style="vertical-align: middle;padding: 0px; margin: 0px; border: none;font-size: 60%;">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</td></tr></table>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>
<script src="http://chasethedevil.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  var _gaq=[['_setAccount','UA-365717-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

