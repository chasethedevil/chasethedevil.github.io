<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Chase the Devil &middot; Chase the Devil</title>

  
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/poole.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="http://chasethedevil.github.io/css/highlight/sunburst.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://chasethedevil.github.io/touch-icon-144-precomposed.png">
  <link href="http://chasethedevil.github.io/favicon.png" rel="icon">

  
  
  
  <link href="http://chasethedevil.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Chase the Devil &middot; Chase the Devil" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  <link rel="author" href="http://plus.google.com/105444622997415581493">
<script type="text/javascript"
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<link href=' http://fonts.googleapis.com/css?family=UnifrakturMaguntia' rel='stylesheet' type='text/css'>
</head>
<body class="theme-base-00">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Chase the Devil</h1>
      <p class="lead">Technical blog for Fabien.</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="http://chasethedevil.github.io/post/">Posts</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <script type="text/javascript">document.write("<a href=\"mail" + "to:" + new Array("fabien","2ipi.com").join("@") + "?subject=your%20blog\">" + '<i class="fa fa-envelope fa-3x"></i>' + "</" + "a>");</script>  
      
      
      
      
      
      
      <a href="https://twitter.com/logos01"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="http://chasethedevil.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
    </ul>

    

    
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/quadratic-spline-with-knots-at-mid-points/">Quadratic Spline with Knots at Mid-Points</a>
      </h1>
      <span class="post-date">May 14, 2014 &middot; 2 minute read
      </span>
      
      <p>Two months ago, I looked at <a href="http://chasethedevil.blogspot.fr/2014/03/arbitrage-free-interpolation-of-option.html" target="_blank">arbitrage free interpolation using piecewise-constant density</a>. This is equivalent to a piecewise quadratic polynomial in call prices where each piece is centered around each call strike.<br /><br />I wondered at the time what a quadratic spline would look like on this problem, as it should be very close in theory, except that we can ensure that it is C1, a condition for a good looking implied volatility.<br /><br />For a while, I did not find any references around splines where knots are in between two interpolation points and derived my own formula. And then I lost the paper, but out of curiosity, I looked at the excellent De Boor book &ldquo;<a href="http://www.amazon.com/Practical-Splines-Applied-Mathematical-Sciences/dp/0387953663" target="_blank">A Practical Guide to Splines</a>&rdquo; and found that there was actually a chapter around this: quadratic splines with knots at mid-points. Interestingly, it turns out that a quadratic spline on standard knots is not always well defined, which is why, if one does quadratic splines, the knots need to be moved.<br /><br />The papers from this era are quite rudimentary in their presentation (the book is much better). I found the paper from Demko 1977 &ldquo;<a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CCoQFjAA&amp;url=http%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fpii%2F0021904578900904&amp;ei=oldzU8i0EsTY0QX3xIH4Bg&amp;usg=AFQjCNH8gbNKzPTyFH3xI-FDPJZIAFJAbg&amp;sig2=5fGbnp0Kaf3fx-KZDf5AiA&amp;bvm=bv.66699033,d.d2k" target="_blank">Interpolation by Quadratic Splines</a>&rdquo; quite usable for coding. I adjusted the boundaries to make the first and last quadratic fit the first two/last two strikes (adding a first strike at 0 and a large last strike if necessary) and spend countless time worrying about indices. The result on a simple classic example is interesting.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-gFaieqqfxOY/U3NZabgplZI/AAAAAAAAHLc/Ilu6Of0U18k/s1600/Screenshot+from+2014-05-14+13:52:54.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-gFaieqqfxOY/U3NZabgplZI/AAAAAAAAHLc/Ilu6Of0U18k/s1600/Screenshot+from+2014-05-14+13:52:54.png" height="332" width="400" /></a></div>On the non monotonic discrete density data of my earlier blog entry, this gives:<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-5vz9Gfle_4s/U3Na_BXCrsI/AAAAAAAAHLo/-5nrMhsLwKY/s1600/Screenshot+from+2014-05-14+14:00:08.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-5vz9Gfle_4s/U3Na_BXCrsI/AAAAAAAAHLo/-5nrMhsLwKY/s1600/Screenshot+from+2014-05-14+14:00:08.png" height="332" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">QSpline is the quadratic spline</td></tr></tbody></table>Unfortunately, interpolating small prices with such a spline results in a highly oscillating interpolation: this is the <a href="http://www.sciencedirect.com/science/article/pii/0021904591900348" target="_blank">Gibbs phenomenon for splines</a>. We need to loose strict C1 continuity for practical applications, and use a first derivative approximation instead, very much like the Harmonic cubic spline.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-vREiCCtH0Ko/U3Nb3ofEfLI/AAAAAAAAHLw/Im482o1J5QY/s1600/Screenshot+from+2014-05-14+14:04:33.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-vREiCCtH0Ko/U3Nb3ofEfLI/AAAAAAAAHLw/Im482o1J5QY/s1600/Screenshot+from+2014-05-14+14:04:33.png" height="332" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">On Jaeckel data, the quadratic spline on prices is highly oscillating</td></tr></tbody></table><br /><br /></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/on-interviewing-candidates-for-a-job/">On Interviewing Candidates for a Job</a>
      </h1>
      <span class="post-date">Apr 23, 2014 &middot; 3 minute read
      </span>
      
      <p>I am going to write a little about my experience and conclusions so far around interviewing a candidate for a software developer position or for a quant position, but it should be quite general.<br /><br />At first, I used to ask interview questions I liked when I was myself a candidate. On the technical side, it would stuff like:<br /><ul><li>which design patterns do you know?</li><li>what&rsquo;s your opinion on design patterns?</li><li>what&rsquo;s a virtual method?</li><li>any interesting algorithm you like?</li><li>which libraries did you use?</li></ul>For a quant type I&rsquo;d ask more specific questions<br /><ul><li>what&rsquo;s a Brownian motion?</li><li>what&rsquo;s the Stratanovitch integral?</li><li>why do we use the Ito integral in finance?</li><li>questions on numerical methods: Monte-Carlo and finite differences.</li><li>questions on financial details.&nbsp;</li></ul>I found the approach mostly frustrating: very few people would give interesting (or even good) answers, because most people are not that well prepared for the interview. The exception goes to the academic kind of guy, who usually gives excellent answers, sometimes so good that you feel dumb asking those questions.<br /><br />People who don&rsquo;t give good answers could actually be good coworkers. When I was junior, I was particularly bad at job interviews. I did not necessarily know object orienting concepts that well, even if I started programming at an early age. After a few years, I did not know database theory well either because I had experience only with simple queries, having mostly worked on other stuff. A failed interview made me look more closely at the subject, and it turns out that you can sound like an expert after reading only 1 relatively short book (and the theory is actually quite interesting). I went later to the extreme of complex queries, and then realized <a href="http://chasethedevil.blogspot.fr/2007/06/use-orm-for-better-performance.html" target="_blank">why ORMs are truely important</a>. Similarly when I first interviewed for the &ldquo;finance&rdquo; industry, I sounded very dumb, barely knowing what options were. It&rsquo;s natural to make mistakes, and to not know much. I learnt all that through various mentor coworkers who indirectly encouraged me with their enthusiasm to read the right stuff. What&rsquo;s valuable is the ability to learn, and maybe, when you are very experienced, your past experiences (which might not match at all the interviewer knowledge).<br /><br />Similarly, I sometimes appeared extremely good to interviewers, because it turned out I had practiced similar tests as their own out of curiosity not much time before the interview. <br /><br />There is also a nasty aspect on asking precise pre-formatted technical questions, you will tend to think that everybody is dumb because they can&rsquo;t answer those basic questions you know so well, turning you into an arrogant asshole.<br /><br />I also tried asking probability puzzles (requiring only basic maths knowledge). This gave even less clues towards the candidates in general, except for the exceptional one, where, again you feel a bit dumb for asking those.<br /><br />In the end, I noticed that the most interesting part of the interview was to discuss a subject the candidate knew well, with the idea of trying to extract knowledge from the candidate, to learn something from him.<br /><br />I believe this is might be what the interview should only be about. Furthermore, you don&rsquo;t feel like you are losing your time with such an approach. <br /><br /></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/non-linear-option-pricing/">Non-linear Option Pricing</a>
      </h1>
      <span class="post-date">Apr 18, 2014 &middot; 2 minute read
      </span>
      
      <p>I am currently reading the book &ldquo;<a href="http://www.amazon.co.uk/Nonlinear-Pricing-Chapman-Financial-Mathematics/dp/1466570334/ref=sr_1_1?ie=UTF8&amp;qid=1397852099&amp;sr=8-1&amp;keywords=nonlinear+option+pricing" target="_blank">Nonlinear Option Pricing</a>&rdquo; by J. Guyon and P. Henry-Labord√®re. It&rsquo;s quite interesting even if the first third is quite theoretical. For example they describe how to solve some not well defined non-linear parabolic PDE by relying on the parabolic envelope. They also explain why most problems lead to parabolic PDEs in finance. <br /><br />The rest is a bit more practical. I stumbled upon an good remark regarding Longstaff-Schwartz: the algorithm as Longstaff and Schwarz describe it does not necessary lead to a low-biased estimate as they use future information (the paths they regress on) in the Monte-Carlo estimate. It was actually <a href="http://chasethedevil.blogspot.fr/2013/04/quasi-monte-carlo-longstaff-schwartz.html" target="_blank">a subject of discussion</a> with colleagues, and I analyzed the numerical impact in a simple use case in <a href="http://papers.ssrn.com/abstract=2262259">http://papers.ssrn.com/abstract=2262259</a> In short: it&rsquo;s actually more precise to include the path, even if the estimate is not purely low biased anymore, but the bias is really small in practice. <br /><br />On the same subject I was a bit surprised that <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CCgQFjAA&amp;url=http%3A%2F%2Farxiv.org%2Fabs%2F1404.1180&amp;ei=LYhRU_iZGqWO7Qb9x4HYDQ&amp;usg=AFQjCNGfwQQ-TumcT5nv8gk1BiUCoRn8Qw&amp;sig2=uqPbG7aLjmZ1crAxUYP_FA&amp;bvm=bv.65058239,d.ZGU" target="_blank">a recent paper</a> on American Monte-Carlo regressed systematically on all paths instead of just a subset. One interesting part of the paper is a way to do successive regressions on different blocks of paths.<br /><br />Those details are rarely discussed in papers and books. It was comforting to see that I am not alone to wonder about all this.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/5-minutes-of-xtend/">5 Minutes of Xtend</a>
      </h1>
      <span class="post-date">Apr 8, 2014 &middot; 1 minute read
      </span>
      
      <p>There is a relatively new JVM based language, <a href="https://www.eclipse.org/xtend" target="_blank">Xtend</a>. Their homepage says &ldquo;<b>JAVA 10, TODAY!</b>&rdquo;, so I thought I would give it a try, I was especially interested in operator overloading support, and the fact that it compiles to Java code, not Java byte code.<br /><br />Unfortunately, after 5 minutes with it, and pasting some non Java code in an xtend file, Eclipse hangs forever, even on restart. After creating another workspace, just to trash the new workspace a similar way. This is quite incredible for a nearly 2 years old project, on eclipse.org.<br /><br /></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/building-a-more-accurate-basis-point-volatility-formula/">Building a more accurate basis point volatility formula</a>
      </h1>
      <span class="post-date">Apr 5, 2014 &middot; 3 minute read
      </span>
      
      <p>P. Jaeckel has defied the limits of accuracy with his<a href="http://www.pjaeckel.webspace.virginmedia.com/LetsBeRational.7z" target="_blank"> latest Black-Scholes volatility solver</a>, managing to also improve performance compared to his earlier solver &ldquo;<a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CC8QFjAA&amp;url=http%3A%2F%2Fwww.pjaeckel.webspace.virginmedia.com%2FByImplication.pdf&amp;ei=dwNAU5zkO4aI7AaFy4H4BQ&amp;usg=AFQjCNF1RnfynBrckd79E9RVbhVhuXQrQg&amp;sig2=kOxFO9jmD3wL1E94GjYhRQ&amp;bvm=bv.64125504,d.ZGU" target="_blank">By Implication</a>&rdquo;. Out of a silly exercise, I decided to try my hand for a more accurate <a href="http://www.clarusft.com/analytic-implied-basis-point-volatility/" target="_blank">Normal (or basis point) volatility solver</a>.<br /><br />In reality, the problem is much simpler in the Bachelier/Normal model. A very basic analysis of Bachelier formula shows that the problem can be reduced to a single variable, as Choi et al explain in <a href="http://www.tandfonline.com/doi/abs/10.1080/13504860802583436" target="_blank">their paper</a>. So the problem is not really one of solving, but one of approximating (the inverse of) a function.<br /><br />The first step to build that function is to actually have a highly accurate slow solver as reference. This is quite easy, I just started with Choi formula and used <a href="http://en.wikipedia.org/wiki/Halley%27s_method" target="_blank">Halley&rsquo;s method</a> to refine. In reality, <a href="http://en.wikipedia.org/wiki/Halley%27s_method" target="_blank">Halley&rsquo;s method</a> is already a bit overkill on this problem: it works impressively well, 1 iteration is enough to have an insane level of accuracy, only noticeable when one works in high precision arithmetic (for example 50 digits). For double precision, <a href="http://en.wikipedia.org/wiki/Newton%27s_method" target="_blank">Newton&rsquo;s method</a> would actually be enough - I initially thought that my Halley&rsquo;s implementation did not work as it produced the exact same output as Newton in double precision. <a href="http://www.tandfonline.com/doi/abs/10.1080/14697680902849361" target="_blank">Li proposes</a> the use of the SOR method, which for this exercise, behaves very much like Newton&rsquo;s method.<br /><br />I then followed the logic from Choi et al, but working directly with in-the-money call options instead of <a href="http://en.wikipedia.org/wiki/Straddle" target="_blank">straddles</a>. Straddles sound neat at first (hides that we work in-the-money), but it&rsquo;s actually useless for the algorithm. Choi et al. ignore half of the straddle range when they use their eta transform in the paper. One other change is the mapping itself, I found a better mapping for the call options (but not that far of Choi initial idea). Finally, because I am lazy, I did not go to the pain of finding a good rational fraction approximation along with the square root problem they describe, I just tried a Chebyshev polynomial.<br /><br />Unfortunately, a single Chebyshev polynomial does not work well: even with a very large (1000) degree it&rsquo;s not very precise, so much that I thought that my transform was garbage. I had noticed by mistake, that on another part (negative) of the interval, the Chebyshev polynomial worked actually very well to approximate something related to the volatility of another option. Suddendly came to me the idea of, like Johnson does in <a href="http://ab-initio.mit.edu/wiki/index.php/Faddeeva_Package" target="_blank">his Faddeeva package</a>, using N Chebyshev polynomials on N small intervals. This is like the big heavy hammer for which everything looks like nails, but it&rsquo;s actually very fast to evaluate as the degree of each polynomial can then be low (7), plus a table lookup (could be coded as switch statements if one really cares about such details). The slowest part is actually the call to the log function.<br /><br />The final bit is the use of a Taylor approximation for my -u/log(1-u) transform as it is not all that accurate in double precision when u is near 0. And that produces the following graph<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-r3FCXrjN13k/U0AHWIg7MRI/AAAAAAAAHGU/yDE6BEPtmIs/s1600/Screenshot+from+2014-04-05+15%253A37%253A03.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-r3FCXrjN13k/U0AHWIg7MRI/AAAAAAAAHGU/yDE6BEPtmIs/s1600/Screenshot+from+2014-04-05+15%253A37%253A03.png" height="342" width="400" /></a></div><br />It is interesting to note that &ldquo;solving&rdquo; the b.p. vol is <b>10x faster</b> than solving the Black vol.<br /><br />I wrote <a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2420757" target="_blank">a small paper around all this</a> where you&rsquo;ll find the details as well as Matlab code.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/fast-and-accurate-implied-volatility-solver/">Fast and Accurate Implied Volatility Solver</a>
      </h1>
      <span class="post-date">Mar 19, 2014 &middot; 3 minute read
      </span>
      
      <p>The calibration of a stochastic volatility model or a volatility surface parameterization (like SVI) involves minimizing the model options volatilities against market options volatilities. Often, the model computes an option price, not an implied volatility. It is therefore useful to have a fast way to invert that option price to get back the implied volatility that corresponds to it. Furthermore during the calibration procedure, the model option price can vary widely: it is convenient to have a robust implied volatility solver.<br /><br />Another more basic use of implied volatility solvers, is for the computation of Black-Scholes greeks for a given market option price.<br /><br />A few years ago, P. Jaeckel produced a much better algorithm than a simple Newton or Brent solver, in his paper &ldquo;<a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=7&amp;cad=rja&amp;uact=8&amp;ved=0CHgQFjAG&amp;url=http%3A%2F%2Fwww.pjaeckel.webspace.virginmedia.com%2FByImplication.pdf&amp;ei=fcApU5zICumd0QXhwoGACg&amp;usg=AFQjCNF1RnfynBrckd79E9RVbhVhuXQrQg&amp;sig2=aQs-BabiCAO2Gt4tvP439g&amp;bvm=bv.62922401,d.d2k">By Implication</a>&rdquo;. There is also a much <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CDcQFjAA&amp;url=http%3A%2F%2Fpapers.ssrn.com%2Fsol3%2Fpapers.cfm%3Fabstract_id%3D1027282&amp;ei=_cApU5rFJunN0QWL84DQCw&amp;usg=AFQjCNGqV-aWNuy4K35Z6xkl9aaYPZ1WHg&amp;sig2=rXhXZbu3YWvVvBxwrlTtxg&amp;bvm=bv.62922401,d.d2k">simpler algorithm from Li</a>, based on SOR and a good initial guess for SOR, which I found to be actually quite robust and fast. Now P. Jaeckel has <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0CC8QFjAB&amp;url=http%3A%2F%2Fwww.pjaeckel.webspace.virginmedia.com%2FLetsBeRational.pdf&amp;ei=S88pU7jfI8rJ0QWbv4D4AQ&amp;usg=AFQjCNHv9QC9I_jV-d4VC4JCYganedrhsA&amp;sig2=ivH2tEG0rgUvrBx9mR-QZw&amp;bvm=bv.62922401,d.d2k">a newer algorithm</a>, faster and more accurate, close to double accuracy.<br /><br />I have tested those on 1 million options of random volatility (between 0.001 and 3), random strikes (N deviations with a cap at 1M) for a few expiries.<br /><br />In terms of performance, the results are independent of expiries, but in terms of accuracy, the new Jaeckel algorithm is particularly more accurate for the long-term options (5y and 15y).<br /><span style="font-size: x-small;"><br /></span><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Algorithm&nbsp;&nbsp; Expiry&nbsp; Vol RMSE&nbsp; Price RMSE&nbsp; Time</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2014 5y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.8E-16&nbsp;&nbsp; 2.1E-16&nbsp;&nbsp;&nbsp;&nbsp; 1.8s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2006 5y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.3E-10&nbsp;&nbsp; 1.1E-10&nbsp;&nbsp;&nbsp;&nbsp; 3.0s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2014 15y&nbsp;&nbsp;&nbsp;&nbsp; 2.0E-12&nbsp;&nbsp; 2.4E-16&nbsp;&nbsp;&nbsp;&nbsp; 1.8s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2006 15y&nbsp;&nbsp;&nbsp;&nbsp; 1.5E-7&nbsp;&nbsp;&nbsp;&nbsp;8.0E-11&nbsp;&nbsp;&nbsp;&nbsp; 2.7s</span></span><br /><br />The maximum error from Jaeckel2006 is around 1e-8, while the one from Jaeckel2014 is 2e-15 (for very large unrealistic strike)<br /><br />As a comparison, the simpler Li SOR-TS algorithm follows the given price accuracy independently of the expiry; I have tested with 1E-12. The error in implied volatility will be slightly higher: different close vols can give the same price due to the maximum achievable accuracy of the Black-Scholes formula with double numbers, even with <a href="http://chasethedevil.blogspot.fr/2013/04/from-double-precision-normal-density-to.html">a good cumulative normal distribution implementation</a>. Its performance is however dependent on the number of deviations considered: closer to ATM means faster for Li algorithm.<br /><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Algorithm&nbsp;&nbsp; Expiry&nbsp; Deviation&nbsp; Vol RMSE&nbsp; Price RMSE&nbsp; Time</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2014 1y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.2E-16&nbsp;&nbsp; 2.0E-17 &nbsp;&nbsp;&nbsp; 1.8s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">LiSORTS &nbsp; &nbsp; 1y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8.5E-9 &nbsp;&nbsp; 1.9E-13 &nbsp;&nbsp;&nbsp; 2.1s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Jaeckel2014 1y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1E-16 &nbsp; 5.9E-17 &nbsp;&nbsp;&nbsp; 1.7s</span></span><br /><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">LiSORTS &nbsp; &nbsp; 1y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 4.3E-12 &nbsp; 1.6E-13 &nbsp;&nbsp;&nbsp; 1.3s</span></span><br /><br />Actually, I have cheated in my Li SOR-TS implementation: I have reused the idea from P. Jaeckel to compute the Black-Scholes price with <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">erfc_x</span> (unscaled erfc) instead of <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">erfc</span>. This simple change divides the number of <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">exp</span> calls by 2. Without this trick, for 5 deviations, SOR-TS took 3.6s (almost twice the time).<br /><br />I would not be surprised if this was the main performance improvement between the two Jaeckels.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/arbitrage-free-interpolation-of-option-prices-using-piecewise-constant-density/">Arbitrage Free Interpolation of Option Prices using Piecewise Constant Density</a>
      </h1>
      <span class="post-date">Mar 17, 2014 &middot; 2 minute read
      </span>
      
      <p>Tension splines can produce in some cases <a href="http://chasethedevil.blogspot.fr/2014/03/c2-arbitrage-free-interpolation-with.html">arbitrage free C2 interpolation</a> of options, but unfortunately this is not guaranteed. It turns out that, on some not so nice looking data, where the discrete probability density is not monotone but only positive, all previously considered interpolation fail (spline in volatility or variance, tension spline in log prices, harmonic spline on prices).<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">K &nbsp; &nbsp; vol&nbsp;&nbsp; put&nbsp;&nbsp; b-slope&nbsp; b-convexity<br />300.0 0.682 0.090 0.00e+00 0.00e+00<br />310.0 0.654 0.136 4.60e-03 0.00e+00<br />320.0 0.621 0.192 5.60e-03 1.00e-03<br />330.0 0.594 0.288 9.60e-03 4.00e-03<br />340.0 0.560 0.404 1.16e-02 2.00e-03<br />350.0 0.520 0.530 1.26e-02 1.00e-03<br />360.0 0.484 0.736 2.06e-02 8.00e-03<br />370.0 0.467 1.232 4.96e-02 2.90e-02<br />380.0 0.442 1.898 6.66e-02 1.70e-02<br />390.0 0.427 3.104 1.21e-01 5.40e-02<br />400.0 0.412 4.930 1.83e-01 6.20e-02</span><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-AILZMFsJ09w/Uyb9SWnrYbI/AAAAAAAAHFE/3wzhISGziaU/s1600/Screenshot+from+2014-03-17+14:34:04.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-AILZMFsJ09w/Uyb9SWnrYbI/AAAAAAAAHFE/3wzhISGziaU/s1600/Screenshot+from+2014-03-17+14:34:04.png" height="373" width="400" /></a></div><br />Possibly the simplest arbitrage free interpolation is to postulate the density as piecewise constant, ideally centered around each strike (if not centered, there is no guarantee that it will be positive). If a spline is used for interpolation, this means a quadratic spline. Unfortunately, because it is not C2, it then still fails to be arbitrage free.<br />It is also possible to price by integrating the payoff over the density. There is then one degree of freedom, the Fmin (minimum forward allowed before absorption) that can be adjusted so as to make the density always positive. This produces our only arbitrage free interpolation of the above input put option prices.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-oyqkgeadz-I/Uyb_kjOjQ7I/AAAAAAAAHFQ/M0s2yemHbOA/s1600/Screenshot+from+2014-03-17+14:33:39.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-oyqkgeadz-I/Uyb_kjOjQ7I/AAAAAAAAHFQ/M0s2yemHbOA/s1600/Screenshot+from+2014-03-17+14:33:39.png" height="299" width="320" /></a></div>The implied volatility looks reasonable on this strange input: very much like a spline on volatilities. In contrast, the parabolic interpolator produces an oddly looking implied volatility shape, even though the density is in a way similar: piecewise constant. This is likely because I forced the second derivatives to match the discrete curvature, it is then not C1 in prices.<br /><br />Unfortunately, the piecewise constant density interpolant can also produce some strange implied volatility shapes, for example on P. Jaeckel example data:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-14AO4VdMh78/UycAWtv4TrI/AAAAAAAAHFY/lkqUFsJQY4A/s1600/Screenshot+from+2014-03-17+14:33:02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-14AO4VdMh78/UycAWtv4TrI/AAAAAAAAHFY/lkqUFsJQY4A/s1600/Screenshot+from+2014-03-17+14:33:02.png" height="373" width="400" /></a></div>We find back the wiggles for large strikes. The lower end is particularly funny (which could be due to the fact that I don&rsquo;t have the data for low strikes). This is the corresponding density:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-GBq_zDoLDyE/UycAuk7Ui0I/AAAAAAAAHFg/f1fmWrcq1XY/s1600/Screenshot+from+2014-03-17+14:32:27.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-GBq_zDoLDyE/UycAuk7Ui0I/AAAAAAAAHFg/f1fmWrcq1XY/s1600/Screenshot+from+2014-03-17+14:32:27.png" height="373" width="400" /></a></div><br />It appears then not so easy to produce a simple generally good looking interpolation.<br /><br /></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/c2-arbitrage-free-interpolation-with-tension-splines/">C2 Arbitrage Free Interpolation with Tension Splines</a>
      </h1>
      <span class="post-date">Mar 11, 2014 &middot; 2 minute read
      </span>
      
      <p>In a previous post, I have explored the <a href="http://chasethedevil.blogspot.fr/2014/03/arbitrage-free-wiggles.html">arbitrage free wiggles</a> in the volatility surface that P. Jaeckel found in <a href="http://www.pjaeckel.webspace.virginmedia.com/ClampingDownOnArbitrage.pdf">his paper</a>. I showed that interpolating in log prices instead of prices was enough to remove the wiggles, but then, it appears that the interpolation is not guaranteed to be arbitrage free, even though it often is. On another example from P. Jaeckel paper, that I reproduced inaccurately but well enough, it is not.<br /><br />Using a Harmonic spline instead of a regular cubic spline seems to be enough to make the interpolation arbitrage free in practice (although not in theory as log-prices are not convex), but it is only C1.<br /><br />One can use a tension spline instead. There is an algorithm from Pruess that updates the tension parameters so as to make the interpolation monotone and convex. It can be tweaked to ensure that the interpolation follows:<br />$$f&rsquo;^2 + f&rdquo; \geq 0$$<br /><br />This condition makes the interpolation on the log prices arbitrage free. As a first draft experiment, I just ensured numerically that the condition was valid, the resulting algorithm was fast enough and worked reasonably well.<br /><br />Here is how the normalized density looks like with a simple harmonic spline on the call prices, a cubic spline in the logarithm of call prices, and an optimized tension spline in the logarithm of call prices.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-57uxyS3_9vg/UyCYD8H2FWI/AAAAAAAAHE0/m9QIhAFlg0k/s1600/Screenshot+from+2014-03-12+18:23:02.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-57uxyS3_9vg/UyCYD8H2FWI/AAAAAAAAHE0/m9QIhAFlg0k/s1600/Screenshot+from+2014-03-12+18:23:02.png" height="376" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">logarithm of the curvature</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"></div><br />The blank spot for the Log curve (spline) corresponds to negative curvature, that is, arbitrage. Notice how the tension spline is fully continuous, with no real spikes.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-54gzqNxjpUw/Ux80PYHpBXI/AAAAAAAAHEk/1XtMX89M5vI/s1600/Screenshot+from+2014-03-11+16:50:37.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-54gzqNxjpUw/Ux80PYHpBXI/AAAAAAAAHEk/1XtMX89M5vI/s1600/Screenshot+from+2014-03-11+16:50:37.png" height="341" width="400" /></a></div>The implied volatility curve is very close to a more classic cubic spline interpolation on the implied variance.<br /><br />Of course, the same kind of algorithm can be applied directly to the variance with a slightly different numerical test to ensure it is arbitrage-free, it might however be easier to find a more robust and more clever algorithm in the log prices.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/bachelier-and-black-scholes-fits-of-the-volatility-surface-what-about-sabr/">Bachelier and Black-Scholes Fits of the Volatility Surface, what about SABR?</a>
      </h1>
      <span class="post-date">Mar 7, 2014 &middot; 2 minute read
      </span>
      
      <p>I always wondered if Bachelier was really worse than Black-Scholes in practice. As an experiment I fit various implied volatility surfaces with Bachelier and Black-Scholes and look at the average error in implied volatility by slice.<br /><br />In theory Bachelier is appealing because slightly simpler: log returns are a bit more challenging to think about than returns. And it also takes indirectly into account the fact that OTM calls are less likely than OTM puts because of default risk, if you assume absorbing probability at strike 0.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-FtWwKMYTItY/Uxn4UIURgnI/AAAAAAAAHDk/qJDWTdPl6gw/s1600/bachelier.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-FtWwKMYTItY/Uxn4UIURgnI/AAAAAAAAHDk/qJDWTdPl6gw/s1600/bachelier.png" height="336" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Bachelier</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-XGjl9Pcs5aY/Uxn4aNFFB8I/AAAAAAAAHDs/-v8zOpNFu24/s1600/black.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-XGjl9Pcs5aY/Uxn4aNFFB8I/AAAAAAAAHDs/-v8zOpNFu24/s1600/black.png" height="336" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Black-Scholes</td></tr></tbody></table>The error is in general smaller for Black-Scholes for short expiries, and higher for long expiries when compared to Bachelier. Interestingly, in theory, the difference of the models is more pronounced for longer expiries. One would have imagined that for very short expiries Bachelier would be equivalent to Black, it is not the case in term of fitting the smile.<br /><br />Displaced diffusion (mixing both Bachelier and Black linearly) allows to gain x2 accuracy.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-zCvfSvMtsmc/Uxn5HHk0gBI/AAAAAAAAHD0/FrFzvnmnd08/s1600/dd.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-zCvfSvMtsmc/Uxn5HHk0gBI/AAAAAAAAHD0/FrFzvnmnd08/s1600/dd.png" height="336" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Displaced Diffusion</td></tr></tbody></table>What about SABR? Let&rsquo;s look at lognormal SABR, usually used for equities.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-lvB1kTAXh7U/Uxn5VHjEWvI/AAAAAAAAHD8/XMGwCisCiKg/s1600/sabr.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-lvB1kTAXh7U/Uxn5VHjEWvI/AAAAAAAAHD8/XMGwCisCiKg/s1600/sabr.png" height="336" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Lognormal SABR (beta=1)</td></tr></tbody></table>The fit is much better for long expiries, but not so great for a few outliers for long maturities, it can be actually worse than the simple displaced diffusion. A normal SABR might fix that.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-QcGK_40mOHQ/Uxn5qLeI45I/AAAAAAAAHEE/tMWUPEtaxvs/s1600/sabr0.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-QcGK_40mOHQ/Uxn5qLeI45I/AAAAAAAAHEE/tMWUPEtaxvs/s1600/sabr0.png" height="336" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Normal SABR (beta=0) using Hagan lognormal formula</td></tr></tbody></table>If one relies on the standard lognormal formula, the beta=0 SABR behaves very badly.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-kpi0HJKc25o/Uxn57qj8QpI/AAAAAAAAHEM/TLBa6dseWzI/s1600/Screenshot+from+2014-03-07+17:35:49.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-kpi0HJKc25o/Uxn57qj8QpI/AAAAAAAAHEM/TLBa6dseWzI/s1600/Screenshot+from+2014-03-07+17:35:49.png" height="321" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Normal SABR using Hagan normal formula</td></tr></tbody></table>This is fixed using the normal (bpvol) Hagan formula directly. The fit is then better overall for long maturities as expected from Black-Scholes vs Bachelier behavior.<br /><br />If one look in log scale, the conclusion is not so obvious: beta=1 produces a better fit for a majority even for long expiries, but worse for a few (30% in my case) outliers.<br /><br />What&rsquo;s clear however, is that one should never use the Black implied volatility Hagan formula with beta=0. This leaves a question on displaced SABR. Is displaced SABR is better suited than SABR with varying beta?</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://chasethedevil.github.io/post/arbitrage-free-wiggles/">Arbitrage Free Wiggles</a>
      </h1>
      <span class="post-date">Mar 3, 2014 &middot; 2 minute read
      </span>
      
      <p>Peter Jaeckel, in a <a href="http://www.pjaeckel.webspace.virginmedia.com/ClampingDownOnArbitrage.pdf">recent paper (pdf)</a>, shows that something that sounds like a reasonable arbitrage free interpolation can produce wiggles in the implied volatility slice.<br /><br />The interpolation in question is using some convexity preserving spline on call and put option prices directly and in strike, assuming those input prices are arbitrage free. This is very similar to <a href="http://nkahale.free.fr/papers/Interpolation.pdf">Kahale interpolation (pdf)</a>.<br /><br />It seemed too crazy for me so I had to try out his example. And using a <a href="http://papers.ssrn.com/abstract=2175002">harmonic spline</a>, it does produce arbitrage free wiggles.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-HhHvYhvdlwU/UxSkNCTJiXI/AAAAAAAAHBQ/buAU6Q_wALM/s1600/Screenshot+from+2014-03-03+16:29:29.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-HhHvYhvdlwU/UxSkNCTJiXI/AAAAAAAAHBQ/buAU6Q_wALM/s1600/Screenshot+from+2014-03-03+16:29:29.png" height="297" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Wiggles in the implied volatility</td></tr></tbody></table>If we look at the probability density (the curvature), the Harmonic spline maintains a positive density, nearly piecewise flat in log scale, while Hyman, because it preserves only monotonicity, has some negative density which are cut out from the graph.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-UKuoXUcVRYY/UxSk1ylZ7jI/AAAAAAAAHBY/RDxMR2Q69GY/s1600/Screenshot+from+2014-03-03+16:47:46.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-UKuoXUcVRYY/UxSk1ylZ7jI/AAAAAAAAHBY/RDxMR2Q69GY/s1600/Screenshot+from+2014-03-03+16:47:46.png" height="297" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Probability Density</td></tr></tbody></table>In reality, if we look at the interpolation of prices in log scale, one can see that splines won&rsquo;t behave as expected at first on small numbers: they will give a much higher weight to the high values, producing something like a piecewise linear interpolation.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-5WOPPmW088c/UxSml6PGWmI/AAAAAAAAHBk/xOfiaaRcpLI/s1600/Screenshot+from+2014-03-03+16:57:33.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-5WOPPmW088c/UxSml6PGWmI/AAAAAAAAHBk/xOfiaaRcpLI/s1600/Screenshot+from+2014-03-03+16:57:33.png" height="297" width="400" /></a></div><br />In reality, what one really wants for such data is to just interpolate the log prices with a spline, not the prices. This is the curve named &ldquo;Log&rdquo; in the graphs, where a simple cubic spline is used on the log prices, and fed to exp after interpolation.<br /><br />Now it sounds like a reasonable arbitrage free interpolation would be to interpolate the discrete density log linearly, in a similar spirit as <a href="http://finmod.co.za/interpreview.pdf">Hagan-West yield curve interpolation</a> (pdf).<br /><br />In general, if you interpolate very small numbers with a spline, you probably are doing something wrong.</p>

      
    </div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/5/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        ><a href="/page/5/">5</a></li>
        
        <li
        class="active"><a href="/page/6/">6</a></li>
        
        <li
        ><a href="/page/7/">7</a></li>
        
        <li
        ><a href="/page/8/">8</a></li>
        
        <li
        ><a href="/page/9/">9</a></li>
        
        <li
        ><a href="/page/10/">10</a></li>
        
        <li
        ><a href="/page/11/">11</a></li>
        
        <li
        ><a href="/page/12/">12</a></li>
        
        <li
        ><a href="/page/13/">13</a></li>
        
        <li
        ><a href="/page/14/">14</a></li>
        
        <li
        ><a href="/page/15/">15</a></li>
        
        <li
        ><a href="/page/16/">16</a></li>
        
        <li
        ><a href="/page/17/">17</a></li>
        
        <li
        ><a href="/page/18/">18</a></li>
        
        <li
        ><a href="/page/19/">19</a></li>
        
        <li
        ><a href="/page/20/">20</a></li>
        
        <li
        ><a href="/page/21/">21</a></li>
        
        <li
        ><a href="/page/22/">22</a></li>
        
        <li
        ><a href="/page/23/">23</a></li>
        
        <li
        ><a href="/page/24/">24</a></li>
        
        <li
        ><a href="/page/25/">25</a></li>
        
        <li
        ><a href="/page/26/">26</a></li>
        
        <li
        ><a href="/page/27/">27</a></li>
        
        <li
        ><a href="/page/28/">28</a></li>
        
        <li
        ><a href="/page/29/">29</a></li>
        
        <li
        ><a href="/page/30/">30</a></li>
        
        <li
        ><a href="/page/31/">31</a></li>
        
        <li
        ><a href="/page/32/">32</a></li>
        
        <li
        ><a href="/page/33/">33</a></li>
        
        <li
        ><a href="/page/34/">34</a></li>
        
        <li
        >
        <a href="/page/7/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/34/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  </div>
</div>


<div class="content container" style="padding-top: 0rem;">
<a href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent(window.location); return false"> <img src="//www.redditstatic.com/spreddit7.gif" alt="submit to reddit" border="0" /> </a>
<a href="https://twitter.com/share" class="twitter-share-button"{count} data-hashtags="chasethedevil">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>
<script src="http://chasethedevil.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  var _gaq=[['_setAccount','UA-365717-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

